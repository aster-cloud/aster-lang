<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Runtime API 参考手册 | Aster Language</title>
    <meta name="description" content="A pragmatic, safe, fast language with a human CNL surface">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/assets/style.G5Z68FhG.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BexVkAOt.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.D0q-ibex.js">
    <link rel="modulepreload" href="/assets/chunks/framework.Bz2R-749.js">
    <link rel="modulepreload" href="/assets/reference_runtime-api.md.BDtl3Pn5.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-da52a441><div class="VPNavBar" data-v-da52a441 data-v-70946a35><div class="wrapper" data-v-70946a35><div class="container" data-v-70946a35><div class="title" data-v-70946a35><div class="VPNavBarTitle has-sidebar" data-v-70946a35 data-v-1e38c6bc><a class="title" href="/" data-v-1e38c6bc><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-8426fc1a><!--]--><span data-v-1e38c6bc>Aster Language</span><!--[--><!--]--></a></div></div><div class="content" data-v-70946a35><div class="content-body" data-v-70946a35><!--[--><!--]--><div class="VPNavBarSearch search" data-v-70946a35><!--[--><!----><div id="local-search"><button type="button" aria-label="Search" aria-keyshortcuts="/ control+k meta+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><span class="vpi-search DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key"></kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-70946a35 data-v-39714824><span id="main-nav-aria-label" class="visually-hidden" data-v-39714824> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/getting-started.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/formatting.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Formatting</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/reference/syntax.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Reference</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/api/overview.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>API</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/wontlost-ltd/aster-lang" target="_blank" rel="noreferrer" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>GitHub</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-70946a35 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-70946a35 data-v-0394ad82 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wontlost-ltd/aster-lang" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-70946a35 data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><!----><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>Appearance</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bf2fac68><div class="item social-links" data-v-bf2fac68><div class="VPSocialLinks social-links-list" data-v-bf2fac68 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wontlost-ltd/aster-lang" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-70946a35 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-70946a35><div class="divider-line" data-v-70946a35></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-1df9f90f data-v-db738f89><div class="container" data-v-db738f89><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-db738f89><span class="vpi-align-left menu-icon" data-v-db738f89></span><span class="menu-text" data-v-db738f89>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-db738f89 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-1df9f90f data-v-af661f50><div class="curtain" data-v-af661f50></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-af661f50><span class="visually-hidden" id="sidebar-aria-label" data-v-af661f50> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-8d50c081><section class="VPSidebarItem level-0" data-v-8d50c081 data-v-d81de50c><div class="item" role="button" tabindex="0" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><h2 class="text" data-v-d81de50c>Reference</h2><!----></div><div class="items" data-v-d81de50c><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/reference/syntax.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Syntax</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/reference/types.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Types</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/reference/effects.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Effects</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-1df9f90f data-v-c87f25bf><div class="VPDoc has-sidebar has-aside" data-v-c87f25bf data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _reference_runtime-api" data-v-7011f0d8><div><h1 id="runtime-api-参考手册" tabindex="-1">Runtime API 参考手册 <a class="header-anchor" href="#runtime-api-参考手册" aria-label="Permalink to “Runtime API 参考手册”">​</a></h1><p><strong>版本</strong>: 0.2.0 <strong>状态</strong>: 草案 (Draft) <strong>最后更新</strong>: 2025-11-08 18:15 NZDT <strong>维护者</strong>: Claude Code</p><hr><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to “概述”">​</a></h2><p>Aster Runtime API 文档化 Truffle 运行时和 JVM 互操作的关键特性。本文档面向需要以下能力的开发者：</p><ul><li>调用 Java 标准库或第三方库</li><li>配置 Truffle 运行时参数</li><li>理解 Native Image 与 JVM 模式的差异</li><li>优化生产部署的性能和内存占用</li></ul><hr><h2 id="_1-truffle-运行时" tabindex="-1">1. Truffle 运行时 <a class="header-anchor" href="#_1-truffle-运行时" aria-label="Permalink to “1. Truffle 运行时”">​</a></h2><h3 id="_1-1-cli-参数" tabindex="-1">1.1 CLI 参数 <a class="header-anchor" href="#_1-1-cli-参数" aria-label="Permalink to “1.1 CLI 参数”">​</a></h3><h4 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to “基础用法”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># JVM 模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster-truffle/build/install/aster-truffle/bin/aster-truffle</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">core-ir-fil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [options]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Native Image 模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster-truffle/build/native/nativeCompile/aster</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">core-ir-fil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [options]</span></span></code></pre></div><h4 id="可用参数" tabindex="-1">可用参数 <a class="header-anchor" href="#可用参数" aria-label="Permalink to “可用参数”">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><code>--func=&lt;name&gt;</code></td><td>指定要执行的函数名</td><td><code>--func=fibonacci</code></td></tr><tr><td><code>-- &lt;args&gt;</code></td><td>传递函数参数（双破折号后）</td><td><code>-- 10 &quot;hello&quot;</code></td></tr><tr><td><code>--cpusampler</code></td><td>启用 CPU 性能分析</td><td><code>--cpusampler</code></td></tr><tr><td><code>--memtracer</code></td><td>启用内存追踪</td><td><code>--memtracer</code></td></tr><tr><td><code>--experimental-options</code></td><td>启用实验性选项</td><td>与下方选项配合使用</td></tr><tr><td><code>--engine.TraceCompilation</code></td><td>追踪 JIT 编译</td><td><code>--experimental-options --engine.TraceCompilation</code></td></tr></tbody></table><h4 id="完整示例" tabindex="-1">完整示例 <a class="header-anchor" href="#完整示例" aria-label="Permalink to “完整示例”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行 Fibonacci 函数，传递参数 10</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmarks/core/fibonacci_20_core.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --func=fibonacci</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出: 6765</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启用性能分析</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmarks/core/quicksort_core.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cpusampler</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --memtracer</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 追踪 JIT 编译</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmarks/core/list_map_1000_core.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --experimental-options</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --engine.TraceCompilation</span></span></code></pre></div><hr><h3 id="_1-2-环境变量" tabindex="-1">1.2 环境变量 <a class="header-anchor" href="#_1-2-环境变量" aria-label="Permalink to “1.2 环境变量”">​</a></h3><table tabindex="0"><thead><tr><th>变量名</th><th>说明</th><th>默认值</th><th>示例</th></tr></thead><tbody><tr><td><code>JAVA_OPTS</code></td><td>传递给 JVM 的选项</td><td>-</td><td><code>JAVA_OPTS=&quot;-Xmx2G -Xms512M&quot;</code></td></tr><tr><td><code>ASTER_TRUFFLE_PROFILE</code></td><td>配置文件路径</td><td>-</td><td><code>ASTER_TRUFFLE_PROFILE=prod.conf</code></td></tr><tr><td><code>GRAAL_SDK_JAR_PATH</code></td><td>GraalVM SDK JAR 路径</td><td>自动检测</td><td>高级用例</td></tr></tbody></table><h4 id="内存配置示例" tabindex="-1">内存配置示例 <a class="header-anchor" href="#内存配置示例" aria-label="Permalink to “内存配置示例”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置最大堆内存为 2GB</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JAVA_OPTS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-Xmx2G -Xms512M&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster-truffle/build/install/aster-truffle/bin/aster-truffle</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  benchmarks/core/large_dataset_core.json</span></span></code></pre></div><hr><h3 id="_1-3-性能分析选项" tabindex="-1">1.3 性能分析选项 <a class="header-anchor" href="#_1-3-性能分析选项" aria-label="Permalink to “1.3 性能分析选项”">​</a></h3><h4 id="cpu-sampler" tabindex="-1">CPU Sampler <a class="header-anchor" href="#cpu-sampler" aria-label="Permalink to “CPU Sampler”">​</a></h4><p>启用 CPU 采样器查看热点函数：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmarks/core/quicksort_core.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cpusampler</span></span></code></pre></div><p><strong>输出示例</strong>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>-------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span>Sampling Histogram. Recorded 456 samples with period 10ms.</span></span>
<span class="line"><span>  Self Time: Time spent in the function itself.</span></span>
<span class="line"><span>  Total Time: Time spent in the function and its callees.</span></span>
<span class="line"><span>-------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span> Name                              ||             Total Time    |   Self Time   ||</span></span>
<span class="line"><span>-------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span> quicksort                         ||             3150ms  69.0% |  1890ms  41.5% ||</span></span>
<span class="line"><span> partition                         ||             1260ms  27.6% |   840ms  18.4% ||</span></span>
<span class="line"><span> swap                              ||              420ms   9.2% |   420ms   9.2% ||</span></span></code></pre></div><h4 id="memory-tracer" tabindex="-1">Memory Tracer <a class="header-anchor" href="#memory-tracer" aria-label="Permalink to “Memory Tracer”">​</a></h4><p>追踪内存分配：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmarks/core/list_operations_core.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --memtracer</span></span></code></pre></div><p><strong>输出示例</strong>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>-------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span>Memory Tracer. Total allocations: 5.2 MB</span></span>
<span class="line"><span>-------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span> Type                              ||             Count  |   Size (MB)   ||</span></span>
<span class="line"><span>-------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span> List                              ||            12,456  |        3.8 MB ||</span></span>
<span class="line"><span> Text                              ||             3,210  |        1.2 MB ||</span></span>
<span class="line"><span> Map                               ||               842  |        0.2 MB ||</span></span></code></pre></div><hr><h3 id="_1-4-truffle-编译阈值调整" tabindex="-1">1.4 Truffle 编译阈值调整 <a class="header-anchor" href="#_1-4-truffle-编译阈值调整" aria-label="Permalink to “1.4 Truffle 编译阈值调整”">​</a></h3><p>控制 JIT 编译的触发条件：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 降低编译阈值，更早触发 JIT（适合短期运行的基准测试）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmarks/core/fibonacci_20_core.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --experimental-options</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --engine.CompileImmediately</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --engine.BackgroundCompilation=false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 增加编译阈值，适合长期运行的服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> long_running_service_core.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --experimental-options</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --engine.CompilationThreshold=10000</span></span></code></pre></div><hr><h2 id="_2-jvm-互操作" tabindex="-1">2. JVM 互操作 <a class="header-anchor" href="#_2-jvm-互操作" aria-label="Permalink to “2. JVM 互操作”">​</a></h2><h3 id="_2-1-调用-java-标准库" tabindex="-1">2.1 调用 Java 标准库 <a class="header-anchor" href="#_2-1-调用-java-标准库" aria-label="Permalink to “2.1 调用 Java 标准库”">​</a></h3><p>Aster 通过 Truffle Interop 机制与 Java 无缝集成。</p><h4 id="示例-1-使用-java-time-localdate" tabindex="-1">示例 1：使用 java.time.LocalDate <a class="header-anchor" href="#示例-1-使用-java-time-localdate" aria-label="Permalink to “示例 1：使用 java.time.LocalDate”">​</a></h4><p><strong>Aster 代码</strong>：</p><div class="language-aster"><button title="Copy Code" class="copy"></button><span class="lang">aster</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">This </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> is</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> datetime_example</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">To</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> currentDate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">produce</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LocalDate</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Java</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;java.time.LocalDate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> today</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LocalDate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> today</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span></span></code></pre></div><p><strong>等效 Core IR</strong>（简化）：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Define&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;currentDate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;body&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JavaInterop&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;className&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;java.time.LocalDate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;now&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;args&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>运行</strong>：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dist/scripts/aster.js</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> truffle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> examples/java-interop/datetime.aster</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --func=currentDate</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出: 2025-11-08</span></span></code></pre></div><hr><h4 id="示例-2-使用-java-util-arraylist" tabindex="-1">示例 2：使用 java.util.ArrayList <a class="header-anchor" href="#示例-2-使用-java-util-arraylist" aria-label="Permalink to “示例 2：使用 java.util.ArrayList”">​</a></h4><p><strong>Aster 代码</strong>：</p><div class="language-aster"><button title="Copy Code" class="copy"></button><span class="lang">aster</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">This </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> is</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> arraylist_example</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">To</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">produce</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayList</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Java</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;java.util.ArrayList&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> list</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Call</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;apple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Call</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;banana&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Call</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cherry&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span></span></code></pre></div><p><strong>运行</strong>：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dist/scripts/aster.js</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> truffle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> examples/java-interop/arraylist.aster</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --func=createList</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出: 3</span></span></code></pre></div><hr><h4 id="示例-3-使用-java-util-concurrent-completablefuture" tabindex="-1">示例 3：使用 java.util.concurrent.CompletableFuture <a class="header-anchor" href="#示例-3-使用-java-util-concurrent-completablefuture" aria-label="Permalink to “示例 3：使用 java.util.concurrent.CompletableFuture”">​</a></h4><p><strong>Aster 代码</strong>：</p><div class="language-aster"><button title="Copy Code" class="copy"></button><span class="lang">aster</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">This </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> is</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> async_example</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">To</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> asyncComputation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">produce</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> with</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CompletableFuture</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Java</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;java.util.concurrent.CompletableFuture&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> future</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CompletableFuture</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">supplyAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    lambda</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 42</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ).</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> future</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span></span></code></pre></div><p><strong>说明</strong>：</p><ul><li>并发操作标注 <code>with IO</code> 效果</li><li>使用 Java 的异步机制实现并发计算</li></ul><hr><h3 id="_2-2-类型映射表" tabindex="-1">2.2 类型映射表 <a class="header-anchor" href="#_2-2-类型映射表" aria-label="Permalink to “2.2 类型映射表”">​</a></h3><p>Aster 类型与 Java 类型的自动转换：</p><table tabindex="0"><thead><tr><th>Aster 类型</th><th>Java 类型</th><th>说明</th></tr></thead><tbody><tr><td><code>Int</code></td><td><code>java.lang.Integer</code></td><td>32位有符号整数</td></tr><tr><td><code>Long</code></td><td><code>java.lang.Long</code></td><td>64位有符号整数</td></tr><tr><td><code>Double</code></td><td><code>java.lang.Double</code></td><td>IEEE 754 双精度浮点数</td></tr><tr><td><code>Bool</code></td><td><code>java.lang.Boolean</code></td><td>布尔值</td></tr><tr><td><code>Text</code></td><td><code>java.lang.String</code></td><td>不可变字符串</td></tr><tr><td><code>List\&lt;T\&gt;</code></td><td><code>java.util.List\&lt;T\&gt;</code></td><td>列表接口</td></tr><tr><td><code>Map\&lt;K,V\&gt;</code></td><td><code>java.util.Map\&lt;K,V\&gt;</code></td><td>映射接口</td></tr><tr><td><code>Maybe\&lt;T\&gt;</code></td><td><code>java.util.Optional\&lt;T\&gt;</code></td><td>可选值</td></tr><tr><td><code>Result\&lt;T,E\&gt;</code></td><td>自定义类型</td><td>无直接对应，需封装</td></tr></tbody></table><h4 id="null-处理" tabindex="-1">Null 处理 <a class="header-anchor" href="#null-处理" aria-label="Permalink to “Null 处理”">​</a></h4><ul><li><strong>Java null → Aster</strong>：自动转换为 <code>Maybe.None</code></li><li><strong>Aster Maybe.None → Java</strong>：转换为 <code>null</code></li><li><strong>配置严格模式</strong>：在 LSP 中启用 null 检查警告</li></ul><p><strong>示例</strong>：</p><div class="language-aster"><button title="Copy Code" class="copy"></button><span class="lang">aster</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">To </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">safeGet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map: Map</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Text, Text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, key: Text), produce Maybe</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Define value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).  # </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Java</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 返回</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 时自动转为</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> None</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Return value.</span></span></code></pre></div><hr><h3 id="_2-3-异常处理" tabindex="-1">2.3 异常处理 <a class="header-anchor" href="#_2-3-异常处理" aria-label="Permalink to “2.3 异常处理”">​</a></h3><p>Java 异常自动转换为 Aster 的 <code>Result</code> 类型：</p><div class="language-aster"><button title="Copy Code" class="copy"></button><span class="lang">aster</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">To </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseInteger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text: Text), produce Result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Int, Text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Define Integer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Java</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;java.lang.Integer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Define result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Return </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Ok</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result).</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Catch </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Return </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Invalid integer format: {text}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span></code></pre></div><p><strong>运行</strong>：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 成功解析</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{ &quot;text&quot;: &quot;42&quot; }&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> parse_integer_core.json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出: Ok(42)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 解析失败</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{ &quot;text&quot;: &quot;abc&quot; }&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> parse_integer_core.json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出: Err(&quot;Invalid integer format: abc&quot;)</span></span></code></pre></div><hr><h3 id="_2-4-调用自定义-java-类" tabindex="-1">2.4 调用自定义 Java 类 <a class="header-anchor" href="#_2-4-调用自定义-java-类" aria-label="Permalink to “2.4 调用自定义 Java 类”">​</a></h3><h4 id="步骤-1-编写-java-类" tabindex="-1">步骤 1：编写 Java 类 <a class="header-anchor" href="#步骤-1-编写-java-类" aria-label="Permalink to “步骤 1：编写 Java 类”">​</a></h4><p><strong>文件</strong>: <code>src/main/java/com/example/Calculator.java</code></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.example;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Calculator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> multiply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="步骤-2-在-aster-中调用" tabindex="-1">步骤 2：在 Aster 中调用 <a class="header-anchor" href="#步骤-2-在-aster-中调用" aria-label="Permalink to “步骤 2：在 Aster 中调用”">​</a></h4><div class="language-aster"><button title="Copy Code" class="copy"></button><span class="lang">aster</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">This </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> is</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> calculator_example</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">To</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> compute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">produce</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Calculator</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Java</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;com.example.Calculator&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  # </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">调用静态方法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Calculator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(5, 3).</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  # </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">调用实例方法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> calc</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Calculator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> product</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> calc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">multiply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(4, 7).</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> + </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">product</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span></code></pre></div><h4 id="步骤-3-配置-classpath" tabindex="-1">步骤 3：配置 Classpath <a class="header-anchor" href="#步骤-3-配置-classpath" aria-label="Permalink to “步骤 3：配置 Classpath”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 编译 Java 类</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build/classes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/main/java/com/example/Calculator.java</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行时添加到 classpath</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JAVA_OPTS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-cp build/classes&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> calculator_core.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --func=compute</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出: 36  (5+3 + 4*7 = 8 + 28 = 36)</span></span></code></pre></div><hr><h3 id="_2-5-泛型类型擦除" tabindex="-1">2.5 泛型类型擦除 <a class="header-anchor" href="#_2-5-泛型类型擦除" aria-label="Permalink to “2.5 泛型类型擦除”">​</a></h3><p>Java 泛型在运行时被擦除，Aster 通过类型推断处理：</p><div class="language-aster"><button title="Copy Code" class="copy"></button><span class="lang">aster</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">To createTypedList, produce List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Define ArrayList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Java</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;java.util.ArrayList&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Define list </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ArrayList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Call list.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Call list.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Call list.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  # Aster 推断返回类型为 List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Return list.</span></span></code></pre></div><p><strong>注意</strong>：</p><ul><li>运行时无法检查泛型类型</li><li>编译时 Aster 类型检查器会验证类型一致性</li></ul><hr><h2 id="_3-native-image-vs-jvm-模式" tabindex="-1">3. Native Image vs JVM 模式 <a class="header-anchor" href="#_3-native-image-vs-jvm-模式" aria-label="Permalink to “3. Native Image vs JVM 模式”">​</a></h2><h3 id="_3-1-性能对比" tabindex="-1">3.1 性能对比 <a class="header-anchor" href="#_3-1-性能对比" aria-label="Permalink to “3.1 性能对比”">​</a></h3><p>基于实际基准测试结果（GraalVM 25, macOS arm64）：</p><table tabindex="0"><thead><tr><th>指标</th><th>Native Image</th><th>JVM (HotSpot)</th><th>优势</th></tr></thead><tbody><tr><td><strong>启动时间</strong></td><td>~50ms</td><td>~500ms</td><td><strong>Native Image 快 10x</strong></td></tr><tr><td><strong>首次执行</strong></td><td>~80ms</td><td>~1200ms</td><td><strong>Native Image 快 15x</strong></td></tr><tr><td><strong>峰值性能</strong></td><td>85% of JVM</td><td>100% (基准)</td><td>JVM 略快 15%</td></tr><tr><td><strong>内存占用</strong></td><td>~50MB</td><td>~300MB</td><td><strong>Native Image 省 6x</strong></td></tr><tr><td><strong>二进制大小</strong></td><td>23MB (PGO) / 37MB (baseline)</td><td>N/A</td><td>独立部署</td></tr></tbody></table><p><strong>结论</strong>：</p><ul><li><strong>微服务/无服务器</strong>：优先 Native Image（冷启动关键）</li><li><strong>长期运行服务</strong>：优先 JVM（峰值性能优势）</li><li><strong>嵌入式/边缘计算</strong>：必须 Native Image（内存受限）</li></ul><hr><h3 id="_3-2-功能差异" tabindex="-1">3.2 功能差异 <a class="header-anchor" href="#_3-2-功能差异" aria-label="Permalink to “3.2 功能差异”">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>Native Image</th><th>JVM</th><th>说明</th></tr></thead><tbody><tr><td>动态类加载</td><td>❌ 不支持</td><td>✅ 支持</td><td>Native Image 需编译时确定所有类</td></tr><tr><td>反射</td><td>⚠️ 需配置</td><td>✅ 完全支持</td><td>需在 <code>reflect-config.json</code> 声明</td></tr><tr><td>JNI</td><td>⚠️ 需配置</td><td>✅ 完全支持</td><td>需在 <code>jni-config.json</code> 声明</td></tr><tr><td>序列化</td><td>⚠️ 需配置</td><td>✅ 完全支持</td><td>需在 <code>serialization-config.json</code> 声明</td></tr><tr><td>资源文件</td><td>⚠️ 需配置</td><td>✅ 自动包含</td><td>需在 <code>resource-config.json</code> 声明</td></tr><tr><td>JVMTI/JMX</td><td>❌ 不支持</td><td>✅ 支持</td><td>Native Image 无 JVM 诊断接口</td></tr><tr><td>线程/并发</td><td>✅ 完全支持</td><td>✅ 完全支持</td><td>行为一致</td></tr><tr><td>Truffle 语言</td><td>✅ 完全支持</td><td>✅ 完全支持</td><td>Aster 核心功能无差异</td></tr></tbody></table><hr><h3 id="_3-3-配置文件" tabindex="-1">3.3 配置文件 <a class="header-anchor" href="#_3-3-配置文件" aria-label="Permalink to “3.3 配置文件”">​</a></h3><p>Native Image 需要配置文件声明动态特性。Aster 项目已预配置：</p><h4 id="reflect-config-json" tabindex="-1">reflect-config.json <a class="header-anchor" href="#reflect-config-json" aria-label="Permalink to “reflect-config.json”">​</a></h4><p><strong>位置</strong>: <code>aster-truffle/src/main/resources/META-INF/native-image/reflect-config.json</code></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;java.time.LocalDate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;methods&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;now&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;parameterTypes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [] },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;toString&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;parameterTypes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [] }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;java.util.ArrayList&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;methods&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;init&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;parameterTypes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [] },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;add&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;parameterTypes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;java.lang.Object&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;parameterTypes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [] }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p><strong>说明</strong>：</p><ul><li>声明需要反射访问的类和方法</li><li>未声明的反射调用会导致运行时错误</li></ul><hr><h4 id="resource-config-json" tabindex="-1">resource-config.json <a class="header-anchor" href="#resource-config-json" aria-label="Permalink to “resource-config.json”">​</a></h4><p><strong>位置</strong>: <code>aster-truffle/src/main/resources/META-INF/native-image/resource-config.json</code></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;resources&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;includes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;pattern&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;pattern&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;META-INF/.*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>说明</strong>：</p><ul><li>声明需要打包到镜像中的资源文件</li><li>使用正则表达式匹配文件路径</li></ul><hr><h4 id="serialization-config-json" tabindex="-1">serialization-config.json <a class="header-anchor" href="#serialization-config-json" aria-label="Permalink to “serialization-config.json”">​</a></h4><p><strong>位置</strong>: <code>aster-truffle/src/main/resources/META-INF/native-image/serialization-config.json</code></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aster.truffle.runtime.AsterValue&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aster.truffle.runtime.ListValue&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p><strong>说明</strong>：</p><ul><li>声明需要序列化支持的类</li><li>用于跨进程通信或持久化</li></ul><hr><h3 id="_3-4-编译选项" tabindex="-1">3.4 编译选项 <a class="header-anchor" href="#_3-4-编译选项" aria-label="Permalink to “3.4 编译选项”">​</a></h3><h4 id="baseline-编译" tabindex="-1">Baseline 编译 <a class="header-anchor" href="#baseline-编译" aria-label="Permalink to “Baseline 编译”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./gradlew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :aster-truffle:nativeCompile</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-configuration-cache</span></span></code></pre></div><p><strong>结果</strong>：</p><ul><li>二进制大小：~37 MB</li><li>编译时间：2-5 分钟</li><li>启动时间：~20ms</li></ul><hr><h4 id="pgo-profile-guided-optimization-编译" tabindex="-1">PGO（Profile-Guided Optimization）编译 <a class="header-anchor" href="#pgo-profile-guided-optimization-编译" aria-label="Permalink to “PGO（Profile-Guided Optimization）编译”">​</a></h4><p><strong>Step 1</strong>: 编译带性能剖析的版本</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./gradlew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :aster-truffle:nativeCompile</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -PpgoMode=instrument</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --no-configuration-cache</span></span></code></pre></div><p><strong>Step 2</strong>: 收集性能 Profile</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster-truffle/build/native/nativeCompile/aster</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  benchmarks/core/fibonacci_20_core.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster-truffle/build/native/nativeCompile/aster</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  benchmarks/core/list_map_1000_core.json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Profile 数据保存到 default.iprof</span></span></code></pre></div><p><strong>Step 3</strong>: 使用 Profile 重新编译</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./gradlew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :aster-truffle:nativeCompile</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -PpgoMode=$(pwd)/default.iprof</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --no-configuration-cache</span></span></code></pre></div><p><strong>结果</strong>：</p><ul><li>二进制大小：<strong>23 MB</strong>（减少 37.6%）</li><li>编译时间：~1.5 分钟</li><li>启动时间：~32ms</li><li>峰值性能：提升 10-15%</li></ul><hr><h3 id="_3-5-故障排查" tabindex="-1">3.5 故障排查 <a class="header-anchor" href="#_3-5-故障排查" aria-label="Permalink to “3.5 故障排查”">​</a></h3><h4 id="问题-1-反射调用失败" tabindex="-1">问题 1：反射调用失败 <a class="header-anchor" href="#问题-1-反射调用失败" aria-label="Permalink to “问题 1：反射调用失败”">​</a></h4><p><strong>错误</strong>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>java.lang.ClassNotFoundException: java.time.LocalDate</span></span></code></pre></div><p><strong>解决</strong>： 在 <code>reflect-config.json</code> 中添加类声明：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;java.time.LocalDate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;allDeclaredMethods&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h4 id="问题-2-资源文件未找到" tabindex="-1">问题 2：资源文件未找到 <a class="header-anchor" href="#问题-2-资源文件未找到" aria-label="Permalink to “问题 2：资源文件未找到”">​</a></h4><p><strong>错误</strong>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Resource not found: config.json</span></span></code></pre></div><p><strong>解决</strong>： 在 <code>resource-config.json</code> 中添加资源模式：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;pattern&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h4 id="问题-3-序列化失败" tabindex="-1">问题 3：序列化失败 <a class="header-anchor" href="#问题-3-序列化失败" aria-label="Permalink to “问题 3：序列化失败”">​</a></h4><p><strong>错误</strong>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>SerializationException: Class not registered for serialization</span></span></code></pre></div><p><strong>解决</strong>： 在 <code>serialization-config.json</code> 中添加类：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.example.MySerializableClass&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="_4-最佳实践" tabindex="-1">4. 最佳实践 <a class="header-anchor" href="#_4-最佳实践" aria-label="Permalink to “4. 最佳实践”">​</a></h2><h3 id="_4-1-选择运行模式" tabindex="-1">4.1 选择运行模式 <a class="header-anchor" href="#_4-1-选择运行模式" aria-label="Permalink to “4.1 选择运行模式”">​</a></h3><p><strong>使用 Native Image 的场景</strong>：</p><ul><li>✅ 微服务、无服务器函数（AWS Lambda, Google Cloud Functions）</li><li>✅ CLI 工具、批处理脚本</li><li>✅ 容器化部署（减少镜像大小和启动时间）</li><li>✅ 嵌入式系统、边缘计算（内存受限环境）</li></ul><p><strong>使用 JVM 的场景</strong>：</p><ul><li>✅ 长期运行的服务（如 Web 后端、消息队列消费者）</li><li>✅ 需要动态类加载或反射的复杂场景</li><li>✅ 开发和调试阶段（更快的编译-运行循环）</li><li>✅ 需要 JVM 诊断工具（JProfiler, VisualVM）</li></ul><hr><h3 id="_4-2-性能优化建议" tabindex="-1">4.2 性能优化建议 <a class="header-anchor" href="#_4-2-性能优化建议" aria-label="Permalink to “4.2 性能优化建议”">​</a></h3><h4 id="内存配置" tabindex="-1">内存配置 <a class="header-anchor" href="#内存配置" aria-label="Permalink to “内存配置”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># JVM 模式：设置合理的堆内存</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JAVA_OPTS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-Xmx2G -Xms512M -XX:+UseG1GC&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Native Image 模式：通过 PGO 优化</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./gradlew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :aster-truffle:nativeCompile</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -PpgoMode=$(pwd)/default.iprof</span></span></code></pre></div><hr><h4 id="jit-编译优化" tabindex="-1">JIT 编译优化 <a class="header-anchor" href="#jit-编译优化" aria-label="Permalink to “JIT 编译优化”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 适合短期运行：立即编译</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --experimental-options</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --engine.CompileImmediately</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 适合长期运行：提高编译阈值，减少编译开销</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> service.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --experimental-options</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --engine.CompilationThreshold=10000</span></span></code></pre></div><hr><h3 id="_4-3-java-互操作最佳实践" tabindex="-1">4.3 Java 互操作最佳实践 <a class="header-anchor" href="#_4-3-java-互操作最佳实践" aria-label="Permalink to “4.3 Java 互操作最佳实践”">​</a></h3><h4 id="优先使用-aster-标准库" tabindex="-1">优先使用 Aster 标准库 <a class="header-anchor" href="#优先使用-aster-标准库" aria-label="Permalink to “优先使用 Aster 标准库”">​</a></h4><div class="language-aster"><button title="Copy Code" class="copy"></button><span class="lang">aster</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># ❌ 避免：不必要的 Java 互操作</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">To </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addNumbers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a: Int, b: Int), produce </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Define Integer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Java</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;java.lang.Integer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Return Integer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a, b).</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># ✅ 推荐：使用 Aster 原生操作</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">To </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addNumbers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a: Int, b: Int), produce </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Return a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b.</span></span></code></pre></div><hr><h4 id="使用-result-包装可能失败的操作" tabindex="-1">使用 Result 包装可能失败的操作 <a class="header-anchor" href="#使用-result-包装可能失败的操作" aria-label="Permalink to “使用 Result 包装可能失败的操作”">​</a></h4><div class="language-aster"><button title="Copy Code" class="copy"></button><span class="lang">aster</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># ✅ 推荐：显式错误处理</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">To </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">safeParse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text: Text), produce Result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Int, Text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Define Integer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Java</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;java.lang.Integer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Return </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Ok</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Integer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text)).</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Catch </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Return </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Parse failed: {error}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span></code></pre></div><hr><h4 id="最小化跨语言调用" tabindex="-1">最小化跨语言调用 <a class="header-anchor" href="#最小化跨语言调用" aria-label="Permalink to “最小化跨语言调用”">​</a></h4><div class="language-aster"><button title="Copy Code" class="copy"></button><span class="lang">aster</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># ❌ 避免：循环中频繁调用 Java</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">To </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">processList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(items: List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), produce </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Define total </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  For item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Define Integer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Java</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;java.lang.Integer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    total </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> total </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Integer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item).  # 每次循环都跨语言调用</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Return total.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># ✅ 推荐：批量转换后使用 Aster 操作</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">To </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">processList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(items: List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), produce Result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Int, Text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Define numbers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseInteger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item)).</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  If numbers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(isErr):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Return </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Parse failed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Return </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Ok</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(numbers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(unwrap).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fold</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, add)).</span></span></code></pre></div><hr><h2 id="_5-参考资料" tabindex="-1">5. 参考资料 <a class="header-anchor" href="#_5-参考资料" aria-label="Permalink to “5. 参考资料”">​</a></h2><h3 id="_5-1-aster-文档" tabindex="-1">5.1 Aster 文档 <a class="header-anchor" href="#_5-1-aster-文档" aria-label="Permalink to “5.1 Aster 文档”">​</a></h3><ul><li><a href="./../guide/getting-started.html">Getting Started</a> - 完整入门指南</li><li><a href="./../guide/truffle-quickstart.html">Truffle Quickstart</a> - Truffle 快速入门</li><li><a href="./../native-image/build-guide.html">Native Image 构建指南</a> - Native Image 详细说明</li><li><a href="./../native-image/performance-comparison.html">性能对比报告</a> - 基准测试结果</li></ul><h3 id="_5-2-graalvm-官方文档" tabindex="-1">5.2 GraalVM 官方文档 <a class="header-anchor" href="#_5-2-graalvm-官方文档" aria-label="Permalink to “5.2 GraalVM 官方文档”">​</a></h3><ul><li><a href="https://www.graalvm.org/latest/graalvm-as-a-platform/language-implementation-framework/" target="_blank" rel="noreferrer">Truffle Language Implementation Framework</a></li><li><a href="https://www.graalvm.org/latest/reference-manual/native-image/" target="_blank" rel="noreferrer">Native Image</a></li><li><a href="https://www.graalvm.org/latest/reference-manual/native-image/optimizations-and-performance/PGO/" target="_blank" rel="noreferrer">Profile-Guided Optimizations</a></li></ul><h3 id="_5-3-java-互操作参考" tabindex="-1">5.3 Java 互操作参考 <a class="header-anchor" href="#_5-3-java-互操作参考" aria-label="Permalink to “5.3 Java 互操作参考”">​</a></h3><ul><li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/package-summary.html" target="_blank" rel="noreferrer">java.time API</a></li><li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/package-summary.html" target="_blank" rel="noreferrer">java.util.concurrent</a></li><li><a href="https://www.graalvm.org/latest/graalvm-as-a-platform/language-implementation-framework/InteropMigration/" target="_blank" rel="noreferrer">Truffle Interop</a></li></ul><hr><h2 id="附录-快速参考" tabindex="-1">附录：快速参考 <a class="header-anchor" href="#附录-快速参考" aria-label="Permalink to “附录：快速参考”">​</a></h2><h3 id="cli-命令速查" tabindex="-1">CLI 命令速查 <a class="header-anchor" href="#cli-命令速查" aria-label="Permalink to “CLI 命令速查”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 基础运行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">core-ir-fil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 指定函数和参数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">core-ir-fil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --func=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">arg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">1&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">arg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">2&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 性能分析</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">core-ir-fil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cpusampler</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --memtracer</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 追踪编译</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./aster</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">core-ir-fil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --experimental-options</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --engine.TraceCompilation</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 编译 Native Image (baseline)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./gradlew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :aster-truffle:nativeCompile</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 编译 Native Image (PGO)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./gradlew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :aster-truffle:nativeCompile</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -PpgoMode=instrument</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ... 运行代表性工作负载 ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./gradlew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :aster-truffle:nativeCompile</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -PpgoMode=$(pwd)/default.iprof</span></span></code></pre></div><h3 id="类型映射速查" tabindex="-1">类型映射速查 <a class="header-anchor" href="#类型映射速查" aria-label="Permalink to “类型映射速查”">​</a></h3><table tabindex="0"><thead><tr><th>Aster</th><th>Java</th></tr></thead><tbody><tr><td>Int</td><td>Integer</td></tr><tr><td>Long</td><td>Long</td></tr><tr><td>Double</td><td>Double</td></tr><tr><td>Bool</td><td>Boolean</td></tr><tr><td>Text</td><td>String</td></tr><tr><td>List&lt;T&gt;</td><td>List&lt;T&gt;</td></tr><tr><td>Map&lt;K,V&gt;</td><td>Map&lt;K,V&gt;</td></tr><tr><td>Maybe&lt;T&gt;</td><td>Optional&lt;T&gt;</td></tr><tr><td>null (Java)</td><td>None (Aster)</td></tr></tbody></table><h3 id="配置文件路径" tabindex="-1">配置文件路径 <a class="header-anchor" href="#配置文件路径" aria-label="Permalink to “配置文件路径”">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>aster-truffle/src/main/resources/META-INF/native-image/</span></span>
<span class="line"><span>├── reflect-config.json          # 反射配置</span></span>
<span class="line"><span>├── resource-config.json         # 资源文件配置</span></span>
<span class="line"><span>└── serialization-config.json    # 序列化配置</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><!----></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/reference/syntax.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Syntax</span><!--]--></a></div></nav></footer><!--[--><!--[--><!--[--><div class="star-callout" data-v-ae6e7d83><p data-v-ae6e7d83> Like Aster? Star us on <a href="https://github.com/wontlost-ltd/aster-lang" target="_blank" rel="noreferrer noopener" data-v-ae6e7d83>GitHub</a> to support the project. </p><p data-v-ae6e7d83><a href="https://github.com/wontlost-ltd/aster-lang" target="_blank" rel="noreferrer noopener" data-v-ae6e7d83><img alt="GitHub Stars" src="https://img.shields.io/github/stars/wontlost-ltd/aster-lang?style=social" data-v-ae6e7d83></a></p></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-1df9f90f data-v-c3855bb3><div class="container" data-v-c3855bb3><p class="message" data-v-c3855bb3>Released under the MIT License.</p><p class="copyright" data-v-c3855bb3>Copyright © 2025 Aster Language Team</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"ai-generation-architecture.md\":\"Vh18j_Ok\",\"ai-generation-guide.md\":\"WZhITE4j\",\"api_canonicalizer.md\":\"DUqNQmFC\",\"api_core.md\":\"C1v-bSx3\",\"api_lexer.md\":\"6Sb7VheS\",\"api_overview.md\":\"BAFNlt86\",\"api_parser.md\":\"DB8ukesk\",\"api_typedoc_canonicalizer_functions_canonicalize.md\":\"WBPQNmQy\",\"api_typedoc_canonicalizer_readme.md\":\"DDyy-5aE\",\"api_typedoc_config_semantic_enumerations_capabilitykind.md\":\"DiMngU6F\",\"api_typedoc_config_semantic_enumerations_effect.md\":\"-Wv6MVL-\",\"api_typedoc_config_semantic_functions_getallcapabilityprefixes.md\":\"C-SGsDr5\",\"api_typedoc_config_semantic_functions_getalleffects.md\":\"ZfZkspmh\",\"api_typedoc_config_semantic_functions_infercapabilityfromname.md\":\"D3SbqIdh\",\"api_typedoc_config_semantic_functions_isbuiltinawait.md\":\"Bjk2mhHF\",\"api_typedoc_config_semantic_functions_iskeyword.md\":\"CMdz7b19\",\"api_typedoc_config_semantic_functions_isvalideffect.md\":\"BtjlRux9\",\"api_typedoc_config_semantic_functions_parseeffect.md\":\"Dxivlbar\",\"api_typedoc_config_semantic_readme.md\":\"DXzLTWAb\",\"api_typedoc_config_semantic_variables_builtin_await.md\":\"CQuSeL8o\",\"api_typedoc_config_semantic_variables_capability_prefixes.md\":\"eN_NzjtE\",\"api_typedoc_config_semantic_variables_cpu_prefixes.md\":\"DIM18Z0P\",\"api_typedoc_config_semantic_variables_io_prefixes.md\":\"rWGal5ax\",\"api_typedoc_config_semantic_variables_kw.md\":\"DzFT7LYb\",\"api_typedoc_core_ir_readme.md\":\"CzYk3jG_\",\"api_typedoc_core_ir_variables_core.md\":\"BYPCKiSN\",\"api_typedoc_error_codes_enumerations_errorcode.md\":\"DZx0lVFr\",\"api_typedoc_error_codes_functions_formaterrormessage.md\":\"CcWuzCXR\",\"api_typedoc_error_codes_functions_geterrormetadata.md\":\"CZHpQ86c\",\"api_typedoc_error_codes_interfaces_errormetadata.md\":\"B-eDU2WT\",\"api_typedoc_error_codes_readme.md\":\"A9gSR2lX\",\"api_typedoc_error_codes_type-aliases_errorcategory.md\":\"BpAN-W4i\",\"api_typedoc_error_codes_type-aliases_errorseverity.md\":\"CbW9wP3J\",\"api_typedoc_error_codes_variables_error_messages.md\":\"C1mdRvmQ\",\"api_typedoc_error_codes_variables_error_metadata.md\":\"DulV4BwE\",\"api_typedoc_index_readme.md\":\"QDJLekGi\",\"api_typedoc_index_variables_node.md\":\"DlJtLj6U\",\"api_typedoc_lexer_functions_lex.md\":\"DicCbXzf\",\"api_typedoc_lexer_readme.md\":\"DGGScc2r\",\"api_typedoc_lower_to_core_functions_lowermodule.md\":\"DVlLa1FI\",\"api_typedoc_lower_to_core_readme.md\":\"B-buQyBB\",\"api_typedoc_parser_functions_parse.md\":\"PiSfv-in\",\"api_typedoc_parser_readme.md\":\"BHmR7Q1P\",\"api_typedoc_readme.md\":\"CYskx_Mj\",\"api_typedoc_types_base_interfaces_baseawait.md\":\"BtvqNOva\",\"api_typedoc_types_base_interfaces_baseblock.md\":\"6Z6kS889\",\"api_typedoc_types_base_interfaces_basebool.md\":\"CePTDt4a\",\"api_typedoc_types_base_interfaces_basecall.md\":\"Dq9AXFca\",\"api_typedoc_types_base_interfaces_basecase.md\":\"lnb-YrQx\",\"api_typedoc_types_base_interfaces_baseconstruct.md\":\"DQWwT88l\",\"api_typedoc_types_base_interfaces_baseconstructfield.md\":\"Gc6XMagf\",\"api_typedoc_types_base_interfaces_basedata.md\":\"BRs9Bq2V\",\"api_typedoc_types_base_interfaces_basedouble.md\":\"BJqGsJ_k\",\"api_typedoc_types_base_interfaces_baseenum.md\":\"D-Je-pO0\",\"api_typedoc_types_base_interfaces_baseerr.md\":\"BuaogDmm\",\"api_typedoc_types_base_interfaces_basefield.md\":\"CDWQ3x2z\",\"api_typedoc_types_base_interfaces_basefunc.md\":\"DDrUQUG2\",\"api_typedoc_types_base_interfaces_basefunctype.md\":\"C-k8xojn\",\"api_typedoc_types_base_interfaces_baseif.md\":\"DQb_TMpD\",\"api_typedoc_types_base_interfaces_baseimport.md\":\"BXWwObGc\",\"api_typedoc_types_base_interfaces_baseint.md\":\"BS0A-qzU\",\"api_typedoc_types_base_interfaces_baselambda.md\":\"zdXq9d-P\",\"api_typedoc_types_base_interfaces_baselet.md\":\"DFVO3w7E\",\"api_typedoc_types_base_interfaces_baselist.md\":\"U8Q5Q12b\",\"api_typedoc_types_base_interfaces_baselong.md\":\"BOkmOK6-\",\"api_typedoc_types_base_interfaces_basemap.md\":\"QOV3XraL\",\"api_typedoc_types_base_interfaces_basematch.md\":\"y8sj9fE5\",\"api_typedoc_types_base_interfaces_basemaybe.md\":\"BF-ov2QO\",\"api_typedoc_types_base_interfaces_basemodule.md\":\"DHIWCHik\",\"api_typedoc_types_base_interfaces_basename.md\":\"mJqirMyR\",\"api_typedoc_types_base_interfaces_basenode.md\":\"Dmpju7mt\",\"api_typedoc_types_base_interfaces_basenone.md\":\"C2rluMyW\",\"api_typedoc_types_base_interfaces_basenull.md\":\"_RMr9EtA\",\"api_typedoc_types_base_interfaces_baseok.md\":\"BB4O3YI2\",\"api_typedoc_types_base_interfaces_baseoption.md\":\"Dir0sRHo\",\"api_typedoc_types_base_interfaces_baseparameter.md\":\"8TIciWx5\",\"api_typedoc_types_base_interfaces_basepatternctor.md\":\"yr5iOkrj\",\"api_typedoc_types_base_interfaces_basepatternint.md\":\"C6sqfWA6\",\"api_typedoc_types_base_interfaces_basepatternname.md\":\"D_LJ8S_E\",\"api_typedoc_types_base_interfaces_basepatternnull.md\":\"CmxeYogt\",\"api_typedoc_types_base_interfaces_baseresult.md\":\"D3c617pK\",\"api_typedoc_types_base_interfaces_baseretrypolicy.md\":\"BOjIZs28\",\"api_typedoc_types_base_interfaces_basereturn.md\":\"DF4gtqCH\",\"api_typedoc_types_base_interfaces_basescope.md\":\"F6jW8XV4\",\"api_typedoc_types_base_interfaces_baseset.md\":\"COXYfHII\",\"api_typedoc_types_base_interfaces_basesome.md\":\"DnfgaN7k\",\"api_typedoc_types_base_interfaces_basestart.md\":\"DJ7-g7rd\",\"api_typedoc_types_base_interfaces_basestep.md\":\"BJ9Trlu7\",\"api_typedoc_types_base_interfaces_basestring.md\":\"BpNOeyTw\",\"api_typedoc_types_base_interfaces_basetimeout.md\":\"CDWfsDmt\",\"api_typedoc_types_base_interfaces_basetypeapp.md\":\"DRrynUM5\",\"api_typedoc_types_base_interfaces_basetypename.md\":\"B2JfEqsD\",\"api_typedoc_types_base_interfaces_basetypevar.md\":\"D8PHuHoZ\",\"api_typedoc_types_base_interfaces_basewait.md\":\"8upNum21\",\"api_typedoc_types_base_interfaces_baseworkflow.md\":\"DA-czSxj\",\"api_typedoc_types_base_readme.md\":\"CE9_DSUg\",\"api_typedoc_types_base_type-aliases_hasfileprop.md\":\"ikLqWE4J\",\"api_typedoc_types_enumerations_tokenkind.md\":\"BM_yAt5G\",\"api_typedoc_types_functions_iscommenttoken.md\":\"DrEgOTzq\",\"api_typedoc_types_interfaces_annotation.md\":\"CkEPfgJk\",\"api_typedoc_types_interfaces_astmetadata.md\":\"BP44qKfb\",\"api_typedoc_types_interfaces_await.md\":\"BwctV35q\",\"api_typedoc_types_interfaces_block.md\":\"Dds4cC78\",\"api_typedoc_types_interfaces_bool.md\":\"FxplsY7_\",\"api_typedoc_types_interfaces_call.md\":\"Bn4XBA3g\",\"api_typedoc_types_interfaces_case.md\":\"D6zsiPkw\",\"api_typedoc_types_interfaces_commentvalue.md\":\"BTkSL3vk\",\"api_typedoc_types_interfaces_construct.md\":\"oIfYr1IJ\",\"api_typedoc_types_interfaces_constructfield.md\":\"Cnz0QAqG\",\"api_typedoc_types_interfaces_data.md\":\"DjJQnvW9\",\"api_typedoc_types_interfaces_double.md\":\"fKgF38FL\",\"api_typedoc_types_interfaces_effectcapable.md\":\"DWOTAter\",\"api_typedoc_types_interfaces_effectvar.md\":\"BVp5AXe0\",\"api_typedoc_types_interfaces_enum.md\":\"B00UwgiO\",\"api_typedoc_types_interfaces_err.md\":\"pB9dmUfJ\",\"api_typedoc_types_interfaces_field.md\":\"PsHn4Csn\",\"api_typedoc_types_interfaces_func.md\":\"MlaHEUYy\",\"api_typedoc_types_interfaces_functype.md\":\"6-vZuqmj\",\"api_typedoc_types_interfaces_if.md\":\"D1PKiqqA\",\"api_typedoc_types_interfaces_import.md\":\"BKI8FX07\",\"api_typedoc_types_interfaces_int.md\":\"ANec8qu3\",\"api_typedoc_types_interfaces_lambda.md\":\"7QRRiPjg\",\"api_typedoc_types_interfaces_let.md\":\"1WCoI4Gv\",\"api_typedoc_types_interfaces_list.md\":\"BvE0M76q\",\"api_typedoc_types_interfaces_long.md\":\"Df_9LjrS\",\"api_typedoc_types_interfaces_map.md\":\"bdNZ-rdw\",\"api_typedoc_types_interfaces_match.md\":\"C_zKlFpy\",\"api_typedoc_types_interfaces_maybe.md\":\"P2T9PUk1\",\"api_typedoc_types_interfaces_module.md\":\"BJHg-GmZ\",\"api_typedoc_types_interfaces_name.md\":\"CKmupHQv\",\"api_typedoc_types_interfaces_none.md\":\"DeDnQ3NO\",\"api_typedoc_types_interfaces_null.md\":\"BVY9aJD_\",\"api_typedoc_types_interfaces_ok.md\":\"BYknowER\",\"api_typedoc_types_interfaces_option.md\":\"DvADyFrb\",\"api_typedoc_types_interfaces_origin.md\":\"Bz9Krm9t\",\"api_typedoc_types_interfaces_parameter.md\":\"HbP_2nfa\",\"api_typedoc_types_interfaces_patternctor.md\":\"BsqS63fg\",\"api_typedoc_types_interfaces_patternint.md\":\"Bt9Ge8Yn\",\"api_typedoc_types_interfaces_patternname.md\":\"CLFMUkPE\",\"api_typedoc_types_interfaces_patternnull.md\":\"Beu6gSiS\",\"api_typedoc_types_interfaces_piimeta.md\":\"B-tcVLA7\",\"api_typedoc_types_interfaces_position.md\":\"D4n1y5fc\",\"api_typedoc_types_interfaces_result.md\":\"BWGZBT-p\",\"api_typedoc_types_interfaces_retrypolicy.md\":\"DceUqg9X\",\"api_typedoc_types_interfaces_return.md\":\"CoWpDCEG\",\"api_typedoc_types_interfaces_set.md\":\"BDOQgnhv\",\"api_typedoc_types_interfaces_some.md\":\"6e8EKTI8\",\"api_typedoc_types_interfaces_span.md\":\"g3cVeqBr\",\"api_typedoc_types_interfaces_start.md\":\"BB_v-dqs\",\"api_typedoc_types_interfaces_stepstmt.md\":\"WXBvOkRA\",\"api_typedoc_types_interfaces_string.md\":\"BM7MrnvB\",\"api_typedoc_types_interfaces_timeout.md\":\"CHFjIDI4\",\"api_typedoc_types_interfaces_token.md\":\"BFyuk3_o\",\"api_typedoc_types_interfaces_typeapp.md\":\"D0rs_a1h\",\"api_typedoc_types_interfaces_typecheckdiagnostic.md\":\"Dp30csBQ\",\"api_typedoc_types_interfaces_typename.md\":\"BZdV7vrD\",\"api_typedoc_types_interfaces_typepii.md\":\"DxqrM52d\",\"api_typedoc_types_interfaces_typevar.md\":\"CmYbPngw\",\"api_typedoc_types_interfaces_wait.md\":\"Ag-JlwuU\",\"api_typedoc_types_interfaces_workflowstmt.md\":\"-5sYRqPy\",\"api_typedoc_types_namespaces_core_interfaces_annotation.md\":\"DRtavQMn\",\"api_typedoc_types_namespaces_core_interfaces_await.md\":\"BsNzp_j2\",\"api_typedoc_types_namespaces_core_interfaces_block.md\":\"CJAFt7ug\",\"api_typedoc_types_namespaces_core_interfaces_bool.md\":\"DeTqk7Df\",\"api_typedoc_types_namespaces_core_interfaces_call.md\":\"BA-DbsfY\",\"api_typedoc_types_namespaces_core_interfaces_case.md\":\"DL4iKtJy\",\"api_typedoc_types_namespaces_core_interfaces_construct.md\":\"DYziutvA\",\"api_typedoc_types_namespaces_core_interfaces_constructfield.md\":\"WF-rbPOF\",\"api_typedoc_types_namespaces_core_interfaces_data.md\":\"GUbnBpqj\",\"api_typedoc_types_namespaces_core_interfaces_double.md\":\"ClolhlwM\",\"api_typedoc_types_namespaces_core_interfaces_effectvar.md\":\"CuBMTjUG\",\"api_typedoc_types_namespaces_core_interfaces_enum.md\":\"Dkp-YH79\",\"api_typedoc_types_namespaces_core_interfaces_err.md\":\"JLtHAQUP\",\"api_typedoc_types_namespaces_core_interfaces_field.md\":\"B_CBLfAx\",\"api_typedoc_types_namespaces_core_interfaces_func.md\":\"CdrM072Q\",\"api_typedoc_types_namespaces_core_interfaces_functype.md\":\"DdZESQCb\",\"api_typedoc_types_namespaces_core_interfaces_if.md\":\"BhksuViE\",\"api_typedoc_types_namespaces_core_interfaces_import.md\":\"BP_olXtF\",\"api_typedoc_types_namespaces_core_interfaces_int.md\":\"H9zaMpmg\",\"api_typedoc_types_namespaces_core_interfaces_lambda.md\":\"yb_cThu5\",\"api_typedoc_types_namespaces_core_interfaces_let.md\":\"pkDJ8C47\",\"api_typedoc_types_namespaces_core_interfaces_list.md\":\"yWhK_8n_\",\"api_typedoc_types_namespaces_core_interfaces_long.md\":\"CvfGj_ux\",\"api_typedoc_types_namespaces_core_interfaces_map.md\":\"DVMJnVh1\",\"api_typedoc_types_namespaces_core_interfaces_match.md\":\"Dl3ZI7pz\",\"api_typedoc_types_namespaces_core_interfaces_maybe.md\":\"CfX0Rknw\",\"api_typedoc_types_namespaces_core_interfaces_module.md\":\"CFgF7MlH\",\"api_typedoc_types_namespaces_core_interfaces_name.md\":\"D2bJ60Bx\",\"api_typedoc_types_namespaces_core_interfaces_none.md\":\"BL5iZ3YQ\",\"api_typedoc_types_namespaces_core_interfaces_null.md\":\"cQx17gxh\",\"api_typedoc_types_namespaces_core_interfaces_ok.md\":\"x9tFCrER\",\"api_typedoc_types_namespaces_core_interfaces_option.md\":\"DtHt_lCj\",\"api_typedoc_types_namespaces_core_interfaces_parameter.md\":\"BNvcAWfY\",\"api_typedoc_types_namespaces_core_interfaces_patctor.md\":\"Cg5TfQw1\",\"api_typedoc_types_namespaces_core_interfaces_patint.md\":\"DkAPyXXY\",\"api_typedoc_types_namespaces_core_interfaces_patname.md\":\"Cyq5lM8k\",\"api_typedoc_types_namespaces_core_interfaces_patnull.md\":\"D0N4Qk7W\",\"api_typedoc_types_namespaces_core_interfaces_piitype.md\":\"BnR_GiFH\",\"api_typedoc_types_namespaces_core_interfaces_result.md\":\"0eeB9WiX\",\"api_typedoc_types_namespaces_core_interfaces_retrypolicy.md\":\"kq2SZ92t\",\"api_typedoc_types_namespaces_core_interfaces_return.md\":\"cgSNp3sB\",\"api_typedoc_types_namespaces_core_interfaces_scope.md\":\"RIR179wD\",\"api_typedoc_types_namespaces_core_interfaces_set.md\":\"BwhbnmH-\",\"api_typedoc_types_namespaces_core_interfaces_some.md\":\"BAqnqR4h\",\"api_typedoc_types_namespaces_core_interfaces_start.md\":\"BBrpUgDx\",\"api_typedoc_types_namespaces_core_interfaces_step.md\":\"BJ8rVDln\",\"api_typedoc_types_namespaces_core_interfaces_string.md\":\"BT8hWbQO\",\"api_typedoc_types_namespaces_core_interfaces_timeout.md\":\"DCNnsi5W\",\"api_typedoc_types_namespaces_core_interfaces_typeapp.md\":\"GA-skxGA\",\"api_typedoc_types_namespaces_core_interfaces_typename.md\":\"C7ZsEecJ\",\"api_typedoc_types_namespaces_core_interfaces_typevar.md\":\"CpGnyyhq\",\"api_typedoc_types_namespaces_core_interfaces_wait.md\":\"UKxkEmXL\",\"api_typedoc_types_namespaces_core_interfaces_workflow.md\":\"DlSvRGGW\",\"api_typedoc_types_namespaces_core_readme.md\":\"NzBvLo2Y\",\"api_typedoc_types_namespaces_core_type-aliases_corenode.md\":\"CdM-pinX\",\"api_typedoc_types_namespaces_core_type-aliases_declaration.md\":\"CkdMcssh\",\"api_typedoc_types_namespaces_core_type-aliases_expression.md\":\"tbTNMueI\",\"api_typedoc_types_namespaces_core_type-aliases_pattern.md\":\"Nu3DP6qV\",\"api_typedoc_types_namespaces_core_type-aliases_statement.md\":\"BxCmeSBG\",\"api_typedoc_types_namespaces_core_type-aliases_type.md\":\"BUXcarfq\",\"api_typedoc_types_readme.md\":\"BtX9LMYn\",\"api_typedoc_types_type-aliases_astnode.md\":\"CaELsJp3\",\"api_typedoc_types_type-aliases_capabilitykind.md\":\"Ckf6mSVU\",\"api_typedoc_types_type-aliases_declaration.md\":\"BqmMJrVd\",\"api_typedoc_types_type-aliases_effectcaps.md\":\"4XK2Fsha\",\"api_typedoc_types_type-aliases_expression.md\":\"nnESKY5K\",\"api_typedoc_types_type-aliases_pattern.md\":\"C6z5WUYE\",\"api_typedoc_types_type-aliases_piidatacategory.md\":\"DMb_MLtA\",\"api_typedoc_types_type-aliases_piilevel.md\":\"CPIuBQGw\",\"api_typedoc_types_type-aliases_piisensitivitylevel.md\":\"Da_BnxF_\",\"api_typedoc_types_type-aliases_statement.md\":\"BLMrfDl1\",\"api_typedoc_types_type-aliases_type.md\":\"Bi8ZPa0d\",\"api_typedoc_types_variables_pii_levels.md\":\"D796TvSg\",\"architecture.md\":\"_DEGzzYu\",\"concurrency.md\":\"D4ZmE0BN\",\"core-ir-specification.md\":\"ZoVsz7RT\",\"cross-backend-benchmark-results.md\":\"kZqjNp3b\",\"decisions_adr-001-defer-effect-inference.md\":\"CCHSILPi\",\"dev_workflow-implementation.md\":\"Crwz1_s-\",\"error-codes.md\":\"DZiO8tN-\",\"graalvm-setup-guide.md\":\"Du9LcmOq\",\"guide_ai-code-generation.md\":\"sKTns30w\",\"guide_audit-compliance.md\":\"-wZEc6pt\",\"guide_capabilities.md\":\"0w9HYsTU\",\"guide_cli_commands.md\":\"BGitH93C\",\"guide_commands.md\":\"BLtNYDJa\",\"guide_contributing.md\":\"BZvvPdPI\",\"guide_examples.md\":\"Bt0J0Xwj\",\"guide_formatting.md\":\"BIcHnXgx\",\"guide_getting-started-packages.md\":\"Dd9Wg98j\",\"guide_getting-started.md\":\"ExEQ5ylv\",\"guide_interop-overloads.md\":\"D-3IUfl-\",\"guide_language-overview.md\":\"CrBKH9ia\",\"guide_lsp-code-actions.md\":\"qIDYbolg\",\"guide_lsp-tutorial.md\":\"CaTCrVPF\",\"guide_package-management_manifest-reference.md\":\"CA2s7laZ\",\"guide_package-management_overview.md\":\"2Z9IMAmJ\",\"guide_pii-compliance.md\":\"CQmq-UAy\",\"guide_quickstart.md\":\"_yd4QSXk\",\"guide_truffle-quickstart.md\":\"B9Olssrg\",\"index.md\":\"B6O2FXoC\",\"java25-compatibility.md\":\"Bt_QsLV4\",\"language_workflow.md\":\"DjavpKtt\",\"migration-guide.md\":\"Dawg27uf\",\"native-build-guide.md\":\"BLzGaiax\",\"native-image_build-guide.md\":\"CpjZnOr9\",\"native-image_limitations.md\":\"zHp-FAzG\",\"native-image_performance-comparison.md\":\"_X8Yj_r0\",\"native-image_readme.md\":\"8k_pD_35\",\"native-image_troubleshooting.md\":\"fkOy1U7O\",\"operations.md\":\"B63Kg8_8\",\"operations_configuration.md\":\"DS96Z88D\",\"operations_deployment.md\":\"D8967GHj\",\"operations_lsp-monitoring.md\":\"kGwox_P0\",\"operations_rollback.md\":\"BRdBvO73\",\"operations_troubleshooting.md\":\"CPGTwKd-\",\"p0-4-completion-summary.md\":\"BKJH7bPF\",\"performance-comparison-charts.md\":\"BmL-h3JC\",\"performance-guide.md\":\"DRZ0N8-o\",\"performance-improvement-roadmap.md\":\"Cu5F8qIt\",\"performance-optimization.md\":\"Be3hE-Ax\",\"performance-regression-monitoring.md\":\"CMsysdlw\",\"performance.md\":\"CN30-jwG\",\"phase0_determinism-contract.md\":\"BksgZ75A\",\"phase0_idempotency-helpers.md\":\"COSI9HRx\",\"phase0_pii-logging-policy.md\":\"BS1gfx3F\",\"phase0_readme.md\":\"B5Ib4xxT\",\"phase0_tamper-evident-audit.md\":\"BBrqVw6u\",\"phase1-user-guide.md\":\"PZb7u1Uk\",\"publishing-guide.md\":\"BlF59Hfz\",\"readme.md\":\"CY5Lhu8s\",\"reference_asm-emitter.md\":\"D6rKYQWD\",\"reference_effect-inference-algorithm.md\":\"Dl8fA7nC\",\"reference_effects-capabilities.md\":\"C1YHTPFx\",\"reference_effects.md\":\"CqQiffue\",\"reference_generics.md\":\"DVdbd2sF\",\"reference_jvm-interop.md\":\"DExS3b4v\",\"reference_lambdas.md\":\"Dm_CVDdF\",\"reference_language-specification.md\":\"CHObGSzA\",\"reference_modules.md\":\"CT9_HBUH\",\"reference_native.md\":\"_3X58hKu\",\"reference_pii-taint-analysis.md\":\"B7chE1N_\",\"reference_production-builds.md\":\"GQU4aQ76\",\"reference_runtime-api.md\":\"BDtl3Pn5\",\"reference_stdlib-api.md\":\"De0TooyD\",\"reference_syntax.md\":\"C8HXmQ0O\",\"reference_truffle.md\":\"Czyrxje0\",\"reference_types.md\":\"DYn-fglz\",\"repository-infrastructure.md\":\"BGnhIcdD\",\"runtime_backend-comparison.md\":\"BBXrjxPT\",\"runtime_determinism-contract.md\":\"DYvxgeKt\",\"runtime_retry-semantics.md\":\"BbveN_BY\",\"runtime_truffle-backend.md\":\"DVUEbRm2\",\"tech-effect-inference-design.md\":\"iUj1JwO8\",\"testing.md\":\"DQ-vCAFG\",\"truffle-architecture.md\":\"XvsAP0qq\",\"truffle-backend-limitations.md\":\"D8HHZylJ\",\"truffle-performance-benchmarks.md\":\"ByVLZONC\",\"truffle-performance-comparison.md\":\"CGVqtjWg\",\"user-guide-effect-polymorphism.md\":\"CLCwhjUU\",\"workstreams_23a66060-6637-4a38-b1d8-b5ab76f4f876_operations-log.md\":\"DqbhzKOv\",\"workstreams_342f9631-da63-4044-9b62-bedb1a4a378c_operations-log.md\":\"4fF1lJvO\",\"workstreams_428f8b23-2db0-458e-9be2-a95e310be030_operations-log.md\":\"Dflgyj6D\",\"workstreams_428f8b23-2db0-458e-9be2-a95e310be030_verification_verification.md\":\"B9b4Gp86\",\"workstreams_429d03ce-6581-4279-9bc6-a71307e63ca4_operations-log.md\":\"BKeOeMa6\",\"workstreams_4be2e593-2955-4539-aa3d-7b4c61f4e1a9_operations-log.md\":\"BjHuRelc\",\"workstreams_68daace8-e645-47a7-ae0b-5d7cd4cf8dab_operations-log.md\":\"DIxtWDyE\",\"workstreams_6fd5b600-0163-4efc-bd07-43e517b15587_operations-log.md\":\"376wJ2_T\",\"workstreams_714da447-6391-4864-b689-c03c45b64a72_operations-log.md\":\"C1c1mSeQ\",\"workstreams_714da447-6391-4864-b689-c03c45b64a72_verification.md\":\"C6I6mJmj\",\"workstreams_7f046db7-ce07-4a1a-bafc-00a943de6bbc_operations-log.md\":\"bTo0JAAY\",\"workstreams_7f046db7-ce07-4a1a-bafc-00a943de6bbc_verification.md\":\"CYleL-nQ\",\"workstreams_88f1c8c5-db32-4a9e-a17f-59141b667bb6_operations-log.md\":\"zFXdkA2O\",\"workstreams_88f1c8c5-db32-4a9e-a17f-59141b667bb6_verification_verification.md\":\"BseWxpZU\",\"workstreams_8bd39f4c-e221-4ab5-b4b4-689662fee5ea_operations-log.md\":\"B30SpGE5\",\"workstreams_924f1bef-5079-4e33-bab9-dbbdeab8d9d5_operations-log.md\":\"BRtZwZsQ\",\"workstreams_9bb5de4d-5ea5-4863-8358-055976d96818_operations-log.md\":\"B2m9ImFH\",\"workstreams_9f3bbb1d-4240-447e-94c1-60a73bc0d943_operations-log.md\":\"40DPm_OB\",\"workstreams_a7b1d981-e5b4-4f3f-bbfe-0a593879e649_operations-log.md\":\"tUmhx1CS\",\"workstreams_aee766ca-7a37-4d42-87ad-4aea5cccc281_operations-log.md\":\"DH_Urdtb\",\"workstreams_aster-asm-emitter-refactor_operations-log.md\":\"BmH7yL-K\",\"workstreams_aster-idea-review_operations-log.md\":\"Bd4YCzKT\",\"workstreams_b7decd69-7066-4080-a794-a6f6c400a846_operations-log.md\":\"Ca-3qWp6\",\"workstreams_context-integration-test_operations-log.md\":\"Cw6rnXSA\",\"workstreams_e1cacc8c-9fcd-4759-b20a-23faa3d0fd86_operations-log.md\":\"BR4hjPMT\",\"workstreams_ef32967d-5391-4a6c-8805-9d942d214c13_operations-log.md\":\"BaBewtGQ\",\"workstreams_error-message-improvement_operations-log.md\":\"BwTb4wCM\",\"workstreams_error-message-improvement_verification.md\":\"D4IHXh_V\",\"workstreams_fadc4c83-e616-4654-b224-5cb3873b097a_operations-log.md\":\"C-wfj6T-\",\"workstreams_function-return-type-inference_operations-log.md\":\"CRrrejXN\",\"workstreams_github-actions-optimization_implementation.md\":\"D-xbYPd6\",\"workstreams_github-actions-optimization_verification.md\":\"Bf3eYlyv\",\"workstreams_github-folder-audit_operations-log.md\":\"Bgn7mHD8\",\"workstreams_golden-test-expansion_operations-log.md\":\"DJ6Dmn7z\",\"workstreams_golden-test-expansion_verification.md\":\"Blgp2Qd2\",\"workstreams_java-core-lowering_operations-log.md\":\"BWkGMQCN\",\"workstreams_lsp-coverage_operations-log.md\":\"BtvSef_S\",\"workstreams_native-cli_jar-hotswap-implementation.md\":\"nEcwLSQw\",\"workstreams_native-cli_operations-log.md\":\"BojbyEt5\",\"workstreams_native-cli_parser-consistency-report.md\":\"gc1PTTHr\",\"workstreams_native-cli_verification_verification.md\":\"CFV494mH\",\"workstreams_native-cli_vscode-typescript-compiler-integration.md\":\"CKPDqqo9\",\"workstreams_native-image-review_operations-log.md\":\"acFv2SZ9\",\"workstreams_p0-4_operations-log.md\":\"HfKffxcq\",\"workstreams_p0-5_operations-log.md\":\"DDXOCsYe\",\"workstreams_p1-5_operations-log.md\":\"lndeopTM\",\"workstreams_p1_operations-log.md\":\"BGjMPVNH\",\"workstreams_p2-1_operations-log.md\":\"kaVKwhSp\",\"workstreams_p2-1_verification.md\":\"BncIHJHD\",\"workstreams_p2-2_operations-log.md\":\"CfrodXxv\",\"workstreams_p2-4_implementation_structured-logging-usage.md\":\"CaoZ9r7n\",\"workstreams_p2-4_operations-log.md\":\"B20-50o_\",\"workstreams_p2-4_verification_structured-logging-verification.md\":\"BNeAjwV2\",\"workstreams_p2-5_operations-log.md\":\"C5XZ6AfX\",\"workstreams_p2-6_operations-log.md\":\"CvVuOp-q\",\"workstreams_p2-6_verification.md\":\"CGs8i2vs\",\"workstreams_p2-7-task6_operations-log.md\":\"DeKHUJwq\",\"workstreams_p2-truffle-comparative-benchmark_operations-log.md\":\"Brh4E1Zn\",\"workstreams_p3-1_operations-log.md\":\"DseqUc9p\",\"workstreams_p3-3_operations-log.md\":\"PWYbcZTK\",\"workstreams_p4-0.1_operations-log.md\":\"DPPEJGmm\",\"workstreams_p4-0.1_verification.md\":\"DdFU6q0z\",\"workstreams_p4-0.4_operations-log.md\":\"D-SNz7C_\",\"workstreams_p4-0.4_verification.md\":\"BujuNssP\",\"workstreams_p4-0_index.md\":\"344r-8eD\",\"workstreams_p4-0_operations-log.md\":\"D3KwpiMN\",\"workstreams_p4-0_readme.md\":\"Cr8ryRvi\",\"workstreams_p4-2.6_implementation_report.md\":\"U9XIM3NZ\",\"workstreams_p4-2.6_operations-log.md\":\"uLCeyEZf\",\"workstreams_p4-2_annotation-semantics.md\":\"BpY9KrFd\",\"workstreams_p4-2_index.md\":\"8fYgiRLU\",\"workstreams_p4-2_operations-log.md\":\"CqwZbBzT\",\"workstreams_p4-2_readme.md\":\"BNKCQ8x9\",\"workstreams_p4-batch2_operations-log.md\":\"CyG4plmz\",\"workstreams_p4-batch5_operations-log.md\":\"CMU7-dy9\",\"workstreams_p4-batch5_research_failure-analysis.md\":\"0dO0in7a\",\"workstreams_phase-0-foundation-hardening_operations-log.md\":\"BJDrYnZX\",\"workstreams_phase-3.8_api-changes.md\":\"C4H1cjz7\",\"workstreams_phase-3.8_deployment-checklist.md\":\"Bm3xqMoU\",\"workstreams_phase-3.8_index.md\":\"BewpN0ZJ\",\"workstreams_phase-3.8_monitoring-guide.md\":\"BLDFDae0\",\"workstreams_phase-3.8_performance-test.md\":\"Cw_w3Y21\",\"workstreams_phase-3.8_readme.md\":\"BqE9JPRg\",\"workstreams_phase0-feature-docs_implementation.md\":\"CDeAzj0v\",\"workstreams_phase0-feature-docs_operations-log.md\":\"C680i2aJ\",\"workstreams_phase4.5-priority2_operations-log.md\":\"CKDeG3OP\",\"workstreams_phase7_operations-log.md\":\"DCZE10iu\",\"workstreams_quarkus-policy-api_operations-log.md\":\"zi6cvtxn\",\"workstreams_remaining-examples_implementation_batch-01.md\":\"BbMD71Ni\",\"workstreams_remaining-examples_implementation_batch-02.md\":\"Du5mUMj4\",\"workstreams_remaining-examples_implementation_batch-03.md\":\"B6uFu97O\",\"workstreams_setup-env-action_operations-log.md\":\"xbjmm1BO\",\"workstreams_span-from-sources-fix_operations-log.md\":\"uFEh8cNx\",\"workstreams_task4-emitter_operations-log.md\":\"EpjQS7KO\",\"workstreams_task6-domain-library_operations-log.md\":\"P0JrxsQP\",\"workstreams_task8-compensation_operations-log.md\":\"kpa9l4lj\",\"workstreams_tasks-11-13_implementation.md\":\"D3cNe9US\",\"workstreams_tasks-2-5_operations-log.md\":\"Cd0yWJpd\",\"workstreams_truffle-phase0_operations-log.md\":\"Bayaeg7M\",\"workstreams_truffle-phase1_operations-log.md\":\"OXora7b2\",\"workstreams_truffle-phase2_operations-log.md\":\"B7pBNZPQ\",\"workstreams_truffle-phase2_variable-flow-analysis.md\":\"DzuGttmw\",\"workstreams_truffle-phase2_verification.md\":\"BOHcBCFK\",\"workstreams_truffle-quickstart_operations-log.md\":\"DAnBsxbN\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Aster Language\",\"description\":\"A pragmatic, safe, fast language with a human CNL surface\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/getting-started\"},{\"text\":\"Formatting\",\"link\":\"/guide/formatting\"},{\"text\":\"Reference\",\"link\":\"/reference/syntax\"},{\"text\":\"API\",\"link\":\"/api/overview\"},{\"text\":\"GitHub\",\"link\":\"https://github.com/wontlost-ltd/aster-lang\"}],\"sidebar\":{\"/guide/\":[{\"text\":\"Guide\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/guide/getting-started\"},{\"text\":\"Language Overview\",\"link\":\"/guide/language-overview\"},{\"text\":\"Examples\",\"link\":\"/guide/examples\"},{\"text\":\"Formatting, LSP & CLI\",\"link\":\"/guide/formatting\"},{\"text\":\"JVM Interop Overloads\",\"link\":\"/guide/interop-overloads\"},{\"text\":\"Contributing\",\"link\":\"/guide/contributing\"}]},{\"text\":\"Package Management\",\"items\":[{\"text\":\"包管理快速入门\",\"link\":\"/guide/getting-started-packages\"},{\"text\":\"包管理系统概述\",\"link\":\"/guide/package-management/overview\"},{\"text\":\"manifest.json 参考\",\"link\":\"/guide/package-management/manifest-reference\"},{\"text\":\"CLI 命令参考\",\"link\":\"/guide/cli/commands\"}]}],\"/reference/\":[{\"text\":\"Reference\",\"items\":[{\"text\":\"Syntax\",\"link\":\"/reference/syntax\"},{\"text\":\"Types\",\"link\":\"/reference/types\"},{\"text\":\"Effects\",\"link\":\"/reference/effects\"}]}],\"/api/\":[{\"text\":\"API\",\"items\":[{\"text\":\"Overview\",\"link\":\"/api/overview\"},{\"text\":\"Canonicalizer\",\"link\":\"/api/canonicalizer\"},{\"text\":\"Lexer\",\"link\":\"/api/lexer\"},{\"text\":\"Parser\",\"link\":\"/api/parser\"},{\"text\":\"Core IR\",\"link\":\"/api/core\"},{\"text\":\"Generated (TypeDoc)\",\"link\":\"/api/typedoc/\"}]}]},\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/wontlost-ltd/aster-lang\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2025 Aster Language Team\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>