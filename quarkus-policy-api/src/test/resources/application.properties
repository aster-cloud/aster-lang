# Test Configuration - External PostgreSQL (podman)

# Database 配置：使用 localhost:5433 PostgreSQL
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5433/postgres
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres
quarkus.datasource.reactive.url=postgresql://localhost:5433/postgres

# 连接超时配置
quarkus.datasource.jdbc.acquisition-timeout=60

# Hibernate
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.sql-load-script=no-file

# Flyway Migration（指向 PostgreSQL 脚本）
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=0
quarkus.flyway.locations=classpath:db/migration
quarkus.flyway.clean-at-start=true

# Cache
quarkus.cache.caffeine."policy-results".expire-after-write=3M

# Log Level
quarkus.log.level=INFO
quarkus.log.category."io.aster".level=DEBUG
quarkus.log.category."org.flywaydb".level=DEBUG
