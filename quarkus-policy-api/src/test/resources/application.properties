# Test Configuration - PostgreSQL via Testcontainers (Phase 3.4)

# Database 配置由 PostgresTestResource 动态注入
# quarkus.datasource.db-kind=postgresql
# quarkus.datasource.jdbc.url=<动态生成>
# quarkus.datasource.username=test
# quarkus.datasource.password=test

# Testcontainers 需要更长的连接超时（拉取镜像时）
quarkus.datasource.jdbc.acquisition-timeout=60

# Hibernate
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.sql-load-script=no-file

# Flyway Migration（默认指向 H2 兼容脚本）
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=0
quarkus.flyway.locations=classpath:db/h2
quarkus.flyway.clean-at-start=true

# Cache
quarkus.cache.caffeine."policy-results".expire-after-write=3M

# Log Level
quarkus.log.level=INFO
quarkus.log.category."io.aster".level=DEBUG
quarkus.log.category."org.flywaydb".level=DEBUG
