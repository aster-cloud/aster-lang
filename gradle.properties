# encoding: UTF-8
# This file is encoded in UTF-8 to support Chinese comments
# Gradle properties for Aster language project

# Configuration cache 在本仓库包含的 GraalVM Native Build Tools 与自定义 Exec 任务下存在兼容性问题，
# 会在缓存序列化阶段解析不可解析的配置或无法序列化的对象。
# 为保证 CI 与本地构建稳定性，暂时关闭。
# 参考错误：GenerateResourcesConfigFile 任务序列化 DefaultLegacyConfiguration 失败。
#
# Configuration cache 恢复启用以优化构建性能
org.gradle.configuration-cache=true

# Vaadin 24.9.5 插件与 Gradle 9.0 不兼容:
# - 错误: DefaultTaskContainer#withType() 在任务创建上下文中被 Gradle 9.0 禁止
# - 这是 Gradle 9.0 的 API 限制,不是配置缓存特定问题
# - 影响项目: policy-editor
# - 解决方案:
#   * 运行测试: ./gradlew test -x :policy-editor:test
#   * 构建项目: ./gradlew build -x :policy-editor:build
#   * 完整构建: ./gradlew clean build -x :policy-editor:build
# - 跟踪: https://github.com/vaadin/gradle-plugin (等待 Gradle 9.0 适配)

# Enable parallel execution for better performance
org.gradle.parallel=true

# Use daemon for faster subsequent builds
org.gradle.daemon=true

# Enable caching of build outputs
org.gradle.caching=true

# Java 25 native access: Allow Gradle's native-platform to load native libraries
# This suppresses warnings from Gradle 9.0.0's NativeLibraryLoader
# Note: Also affects the Gradle daemon and build processes
org.gradle.jvmargs=-XX:+UnlockExperimentalVMOptions --enable-native-access=ALL-UNNAMED -Dfile.encoding=UTF-8

# Force UTF-8 encoding for Gradle file operations
systemProp.file.encoding=UTF-8
