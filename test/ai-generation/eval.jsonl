{"id":"eval-001","english_description":"Construct a record using an incorrect field type so the assignment fails validation.","cnl_code":"This module is tests.typecheck.mismatch.assign.\n\nDefine Entry with id: Int, name: Text.\n\nTo makeBadEntry, produce Entry:\n  Return Entry(id: \"oops\", name: \"user\").","category":"validation","tags":["records","type_error"],"difficulty":"easy"}
{"id":"eval-002","english_description":"Call the Payment API without declaring IO, resulting in a capability violation.","cnl_code":"This module is test.typechecker.payment_missing_io.\n\n// Invalid Payment capability usage - missing IO effect declaration\n// Should produce error: Payment capability requires IO effect\n\nTo processPaymentInvalid with orderId: Text, amount: Int, produce Result of Text:\n  Return ok of Payment.charge(orderId, amount).","category":"effects","tags":["capability","payment"],"difficulty":"easy"}
{"id":"eval-003","english_description":"Perform file IO inside a SQL-only function to raise enforcement diagnostics.","cnl_code":"This module is test.eff.violation.sql_calls_files.\n\nTo db_init, produce Text. It performs io [Sql]:\n  Let config be Files.read(\"/etc/config.ini\").\n  Return Db.connect(config).","category":"effects","tags":["violation","sql","file"],"difficulty":"medium"}
{"id":"eval-004","english_description":"Return an email value from a helper and immediately send it over HTTP.","cnl_code":"This module is test.pii.function_return.\n\nTo get_email, produce Text:\n  Return \"user@example.com\".\n\nTo send_email, produce Text. It performs io [Http]:\n  Let email be get_email().\n  Return Http.post(\"/send\", email).","category":"security","tags":["pii","http"],"difficulty":"easy"}
{"id":"eval-005","english_description":"Define enums and helper rules to evaluate whether a user may access a resource.","cnl_code":"This module is demo.policy.\n\nDefine Action as one of Read, Write, Delete, Admin.\n\nDefine Resource as one of Document, User, System.\n\nDefine PolicyContext with userId: Text, userRole: Text, resourceOwner: Text, resourceType: Resource, timeOfDay: Double, location: Text.\n\nTo canAccess with role: Text, action: Action, ownerId: Text, userId: Text, produce Bool:\n  If Text.equals(role, \"admin\"),:\n    Return true.\n  If Action.equals(action, Read),:\n    Return Text.equals(ownerId, userId).\n  If Action.equals(action, Write),:\n    Return Text.equals(ownerId, userId).\n  If Action.equals(action, Delete),:\n    Return false.\n  If Action.equals(action, Admin),:\n    Return Text.equals(role, \"admin\").\n  Return false.\n\nTo evaluateOwnerBasedRule with role: Text, action: Action, resource: Resource, context: PolicyContext, produce Bool:\n  If not(Text.equals(role, context.userRole)),:\n    Return false.\n  If not(Action.equals(action, Read)),:\n    Return false.\n  If not(Resource.equals(resource, context.resourceType)),:\n    Return false.\n  Return Text.equals(context.userId, context.resourceOwner).\n\nTo evaluateUserReadRule with context: PolicyContext, produce Bool:\n  Return evaluateOwnerBasedRule(\"user\", Read, Document, context).","category":"complex","tags":["policy","access_control"],"difficulty":"medium"}
{"id":"eval-006","english_description":"Compute the maximum of three integers using nested comparisons.","cnl_code":"This module is ai.generated.case1.\n\nTo maxOfThree with a: Int, b: Int, c: Int, produce Int:\n  If >(a, b),:\n    If >(a, c),:\n      Return a.\n  If >(b, c),:\n    Return b.\n  Return c.","category":"basic","tags":["arithmetic","comparison"],"difficulty":"easy"}
{"id":"eval-007","english_description":"Provide helpers for list length, indexed lookup, and emptiness checks over text lists.","cnl_code":"This module is demo.list.\n\nTo length with xs: List of Text, produce Int:\n  Return List.length(xs).\n\nTo third with xs: List of Text, produce Text:\n  Return List.get(xs, 2).\n\nTo isEmpty with xs: List of Text, produce Bool:\n  Return List.isEmpty(xs).","category":"basic","tags":["collections","list"],"difficulty":"easy"}
{"id":"eval-008","english_description":"Continue the nested enforcement scenario with a different branch calling forbidden capabilities.","cnl_code":"This module is test.eff.violation.nested_b.\n\nTo db_query, produce Text. It performs io [Sql]:\n  Return Db.query(\"SELECT 1\").\n\nTo http_call, produce Text. It performs io [Http]:\n  Return db_query().\n\nTo top_level, produce Text. It performs cpu:\n  Return http_call().","category":"effects","tags":["violation","nesting"],"difficulty":"medium"}
{"id":"eval-009","english_description":"Call into an external package that performs IO to show capability propagation.","cnl_code":"This module is tests.effects.with_external_package.\n\nUse mock.pkg.analytics.remote as Remote.\n\nTo load_remote, produce Text. It performs io:\n  Return Remote.fetch_remote().","category":"effects","tags":["module","io"],"difficulty":"easy"}
{"id":"eval-010","english_description":"Compose several nested IF rules to determine coverage percentages and patient cost.","cnl_code":"This module is test.eligibility.with.ifs.\n\nDefine Patient with patientId: Text, age: Int, hasInsurance: Bool, insuranceType: Text, chronicConditions: Int.\n\nDefine Service with serviceCode: Text, serviceName: Text, basePrice: Int, requiresPreAuth: Bool.\n\nDefine EligibilityCheck with eligible: Bool, reason: Text, coveragePercent: Int, estimatedCost: Int, requiresPreAuth: Bool.\n\nTo determineMinorCoverage with insuranceType: Text, service: Service, produce Int:\n  If =(insuranceType, \"Premium\"),:\n    Return 90.\n  If =(insuranceType, \"Standard\"),:\n    Return 80.\n  Return 70.\n\nTo determineSeniorCoverage with insuranceType: Text, service: Service, produce Int:\n  If =(insuranceType, \"Medicare\"),:\n    Return 85.\n  If =(insuranceType, \"Premium\"),:\n    Return 95.\n  If =(insuranceType, \"Standard\"),:\n    Return 75.\n  Return 60.\n\nTo determineStandardCoverage with insuranceType: Text, service: Service, chronicConditions: Int, produce Int:\n  If =(insuranceType, \"Premium\"),:\n    If >(chronicConditions, 2),:\n      Return 90.\n    Return 85.\n  If =(insuranceType, \"Standard\"),:\n    If >(chronicConditions, 2),:\n      Return 75.\n    Return 70.\n  If =(insuranceType, \"Basic\"),:\n    Return 60.\n  Return 50.\n\nTo calculatePatientCost with basePrice: Int, coveragePercent: Int, produce Int:\n  Let coverageAmount be *(basePrice, coveragePercent).\n  Let patientPercent be -(100, coveragePercent).\n  Let patientCost be *(basePrice, patientPercent).\n  Return patientCost.\n\nTo checkServiceEligibility with patient: Patient, service: Service, produce EligibilityCheck:\n  If not(patient.hasInsurance),:\n    Return EligibilityCheck with eligible = false, reason = \"No insurance coverage\", coveragePercent = 0, estimatedCost = service.basePrice, requiresPreAuth = false.\n  If <(patient.age, 18),:\n    Let coverage be determineMinorCoverage(patient.insuranceType, service).\n    Return EligibilityCheck with eligible = true, reason = \"Minor coverage\", coveragePercent = coverage, estimatedCost = calculatePatientCost(service.basePrice, coverage), requiresPreAuth = service.requiresPreAuth.\n  If >(patient.age, 65),:\n    Let coverage be determineSeniorCoverage(patient.insuranceType, service).\n    Return EligibilityCheck with eligible = true, reason = \"Senior coverage\", coveragePercent = coverage, estimatedCost = calculatePatientCost(service.basePrice, coverage), requiresPreAuth = service.requiresPreAuth.\n  Let coverage be determineStandardCoverage(patient.insuranceType, service, patient.chronicConditions).\n  Return EligibilityCheck with eligible = true, reason = \"Standard coverage\", coveragePercent = coverage, estimatedCost = calculatePatientCost(service.basePrice, coverage), requiresPreAuth = service.requiresPreAuth.","category":"complex","tags":["eligibility","branching"],"difficulty":"hard"}
{"id":"eval-011","english_description":"Assign support tickets to queues based on severity and customer tier.","cnl_code":"This module is ai.generated.case34.\n\nDefine Ticket with severity: Int, product: Text, customerTier: Text.\n\nDefine Assignment with queue: Text, priority: Int.\n\nTo assignTicket with ticket: Ticket, produce Assignment:\n  If >=(ticket.severity, 90),:\n    Return Assignment with queue = \"CRITICAL\", priority = 1.\n  If Text.equals(ticket.customerTier, \"platinum\"),:\n    Return Assignment with queue = \"VIP\", priority = 2.\n  If Text.equals(ticket.product, \"payments\"),:\n    Return Assignment with queue = \"FINANCE\", priority = 3.\n  Return Assignment with queue = \"STANDARD\", priority = 4.","category":"complex","tags":["support","routing"],"difficulty":"medium"}
{"id":"eval-012","english_description":"Verify that subtotal plus tax equals the reported total.","cnl_code":"This module is ai.generated.case18.\n\nTo isConsistentTotal with subtotal: Int, tax: Int, total: Int, produce Bool:\n  Let computed be +(subtotal, tax).\n  If =(computed, total),:\n    Return true.\n  Return false.","category":"validation","tags":["arithmetic","consistency"],"difficulty":"easy"}
{"id":"eval-013","english_description":"Score transactions against account history to flag risky behavior.","cnl_code":"This module is aster.finance.fraud.\n\nDefine Transaction with transactionId: Text, accountId: Text, amount: Int, timestamp: Int.\n\nDefine AccountHistory with accountId: Text, averageAmount: Int, suspiciousCount: Int, accountAge: Int, lastTimestamp: Int.\n\nDefine FraudResult with isSuspicious: Bool, riskScore: Int, reason: Text.\n\nTo detectFraud with transaction: Transaction, history: AccountHistory, produce FraudResult:\n  If >(transaction.amount, 1000000),:\n    Return FraudResult with isSuspicious = true, riskScore = 100, reason = \"Extremely large transaction\".\n  If >(history.suspiciousCount, 5),:\n    Return FraudResult with isSuspicious = true, riskScore = 85, reason = \"High suspicious activity history\".\n  If <(history.accountAge, 30),:\n    Return FraudResult with isSuspicious = true, riskScore = 70, reason = \"New account risk\".\n  Return FraudResult with isSuspicious = false, riskScore = 10, reason = \"Normal transaction\".","category":"complex","tags":["finance","fraud"],"difficulty":"medium"}
{"id":"eval-014","english_description":"Clamp a rating so it always stays between zero and five.","cnl_code":"This module is ai.generated.case2.\n\nTo clampRating with value: Int, produce Int:\n  If <(value, 0),:\n    Return 0.\n  If >(value, 5),:\n    Return 5.\n  Return value.","category":"basic","tags":["validation","numbers"],"difficulty":"easy"}
{"id":"eval-015","english_description":"Provide a generic identity function that simply returns whichever value it receives.","cnl_code":"This module is tests.typecheck.generics.\n\nTo identity with value: T, produce T:\n  Return value.","category":"basic","tags":["generics","function"],"difficulty":"easy"}
{"id":"eval-016","english_description":"Count how many strings in a list are not empty.","cnl_code":"This module is ai.generated.case4.\n\nTo countNonEmpty with values: List of Text, produce Int:\n  If List.isEmpty(values),:\n    Return 0.\n  Let head be List.head(values).\n  Let tail be List.tail(values).\n  Let remainder be countNonEmpty(tail).\n  If Text.equals(head, \"\"),:\n    Return remainder.\n  Return +(1, remainder).","category":"basic","tags":["recursion","list"],"difficulty":"medium"}
