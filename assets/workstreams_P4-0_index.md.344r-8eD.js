import{_ as s,c as t,o as a,aj as d}from"./chunks/framework.Bz2R-749.js";const k=JSON.parse('{"title":"P4-0: ç±»å‹/æ•ˆæœéªŒè¯åŸºçº¿ç´¢å¼•","description":"","frontmatter":{},"headers":[],"relativePath":"workstreams/P4-0/index.md","filePath":"workstreams/P4-0/index.md"}'),r={name:"workstreams/P4-0/index.md"};function o(i,e,c,l,n,h){return a(),t("div",null,[...e[0]||(e[0]=[d(`<h1 id="p4-0-ç±»å‹-æ•ˆæœéªŒè¯åŸºçº¿ç´¢å¼•" tabindex="-1">P4-0: ç±»å‹/æ•ˆæœéªŒè¯åŸºçº¿ç´¢å¼• <a class="header-anchor" href="#p4-0-ç±»å‹-æ•ˆæœéªŒè¯åŸºçº¿ç´¢å¼•" aria-label="Permalink to â€œP4-0: ç±»å‹/æ•ˆæœéªŒè¯åŸºçº¿ç´¢å¼•â€">â€‹</a></h1><p><strong>æ›´æ–°æ—¥æœŸ</strong>: 2025-11-13 19:39 NZSTï¼ˆCodexï¼‰<br><strong>çŠ¶æ€</strong>: ğŸŸ¡ è¿›è¡Œä¸­<br><strong>æµ‹è¯•é€šè¿‡ç‡</strong>: â€”ï¼ˆç­‰å¾… cross_validate æ±‡æŠ¥ï¼‰</p><hr><h2 id="æ¦‚è¿°ä¸çŠ¶æ€" tabindex="-1">æ¦‚è¿°ä¸çŠ¶æ€ <a class="header-anchor" href="#æ¦‚è¿°ä¸çŠ¶æ€" aria-label="Permalink to â€œæ¦‚è¿°ä¸çŠ¶æ€â€">â€‹</a></h2><p>P4-0 èšç„¦äºæŠŠ Phase 3 æä¾›çš„ç±»å‹/æ•ˆæœ/PII/LSP èƒ½åŠ›æ²‰æ·€ä¸ºå¯å¤åˆ¶çš„é»„é‡‘ç”¨ä¾‹ä¸ç»Ÿä¸€é”™è¯¯ç ä½“ç³»ï¼Œå†é€šè¿‡è·¨è¯­è¨€ diff å·¥å…·ä¿è¯ Java ä¸ TypeScript è¯Šæ–­è¾“å‡ºå¯¹é½ã€‚ç›®å‰é”™è¯¯ç ä¸åœºæ™¯æ–‡æ¡£å·²è½åœ°ï¼Œé»„é‡‘ç”¨ä¾‹ä¸ cross_validate ä»åœ¨è¡¥å®Œé˜¶æ®µã€‚</p><h3 id="å…³é”®æŒ‡æ ‡ä»ªè¡¨ç›˜" tabindex="-1">å…³é”®æŒ‡æ ‡ä»ªè¡¨ç›˜ <a class="header-anchor" href="#å…³é”®æŒ‡æ ‡ä»ªè¡¨ç›˜" aria-label="Permalink to â€œå…³é”®æŒ‡æ ‡ä»ªè¡¨ç›˜â€">â€‹</a></h3><table tabindex="0"><thead><tr><th>æŒ‡æ ‡</th><th>å½“å‰å€¼</th><th>ç›®æ ‡å€¼</th><th>æ•°æ®æ¥æº</th></tr></thead><tbody><tr><td>é”™è¯¯ç æ˜ å°„è¦†ç›–ç‡</td><td>100%ï¼ˆ<code>scripts/generate_error_codes.ts</code> æˆåŠŸå†™å‡º TS/Java æšä¸¾ï¼‰</td><td>100%ï¼ˆç¦æ­¢å­¤ç«‹è¯Šæ–­ï¼‰</td><td><code>shared/error_codes.json</code>ã€<code>src/error_codes.ts</code></td></tr><tr><td>é»„é‡‘ç”¨ä¾‹åˆ†ç±»</td><td>16 ä¸ª <code>.aster</code> ç”¨ä¾‹ï¼Œè¦†ç›– 4 ç±»åœºæ™¯ + 4 ä¸ªå·¥ä½œæµæ¡ˆä¾‹</td><td>æ¯ä¸ªç±»åˆ« â‰¥ 2 ä¸ªé«˜ä¿¡å™ªæ ·ä¾‹ï¼Œç´¯è®¡ â‰¥ 10 ä¸ª</td><td><code>test/type-checker/golden/</code>ã€<code>test/type-checker/scenarios/**/README.md</code></td></tr><tr><td>è·¨è¯­è¨€ diff</td><td>æœªæ‰§è¡Œï¼ˆè„šæœ¬å·²å°±ç»ªï¼Œå°šæœªæŒ‚ CIï¼‰</td><td><code>scripts/cross_validate.sh</code> è¿”å›ç  0ï¼Œdiff è®¡æ•° 0</td><td><code>tools/ast_diff.ts</code>ã€<code>scripts/cross_validate.sh</code></td></tr><tr><td>åœºæ™¯æ–‡æ¡£å¯å¤ç”¨åº¦</td><td>4 ä»½ README å·²æè¿°è§¦å‘æ¡ä»¶/è¯Šæ–­/æ‰©å±•æŒ‡å—</td><td>æ¯ä»½åœºæ™¯æ–‡æ¡£åŒ…å« 3 è¦ç´ </td><td><code>test/type-checker/README.md</code>ã€<code>test/type-checker/scenarios/**/README.md</code></td></tr></tbody></table><hr><h2 id="å¿«é€Ÿå¯¼èˆª" tabindex="-1">å¿«é€Ÿå¯¼èˆª <a class="header-anchor" href="#å¿«é€Ÿå¯¼èˆª" aria-label="Permalink to â€œå¿«é€Ÿå¯¼èˆªâ€">â€‹</a></h2><ul><li><a href="./README.html">READMEï¼ˆé˜¶æ®µæ¦‚è§ˆï¼‰</a></li><li><a href="./operations-log.html">Operations Logï¼ˆè¯¦ç»†æ“ä½œè®°å½•ï¼‰</a></li><li><a href="./../../test/type-checker/golden.html">é»„é‡‘ç”¨ä¾‹æºæ–‡ä»¶</a></li><li><a href="./../../test/type-checker/expected.html">é¢„æœŸè¾“å‡ºåŸºçº¿</a></li><li><a href="./../../test/type-checker/scenarios.html">åœºæ™¯è¯´æ˜æ–‡æ¡£</a></li><li><a href="../../scripts/generate_error_codes.ts">é”™è¯¯ç ç”Ÿæˆè„šæœ¬</a></li><li><a href="../../tools/ast_diff.ts">AST Diff å·¥å…·ä¸äº¤å‰éªŒè¯è„šæœ¬</a>ã€<a href="./../../scripts/cross_validate.sh.html">scripts/cross_validate.sh</a></li></ul><hr><h2 id="æ ¸å¿ƒæ”¹åŠ¨ä¸ä»£ç ç¤ºä¾‹" tabindex="-1">æ ¸å¿ƒæ”¹åŠ¨ä¸ä»£ç ç¤ºä¾‹ <a class="header-anchor" href="#æ ¸å¿ƒæ”¹åŠ¨ä¸ä»£ç ç¤ºä¾‹" aria-label="Permalink to â€œæ ¸å¿ƒæ”¹åŠ¨ä¸ä»£ç ç¤ºä¾‹â€">â€‹</a></h2><ol><li><strong>ç»Ÿä¸€é”™è¯¯ç æ³¨å†Œè¡¨</strong>ï¼š<code>shared/error_codes.json</code> â†’ <code>scripts/generate_error_codes.ts</code> â†’ <code>src/error_codes.ts</code> ä¸ <code>aster-core/.../ErrorCode.java</code>ï¼Œç¡®ä¿ Java/TS å…±ç”¨ç¼–å·ã€åˆ†ç±»ä¸æ¶ˆæ¯æ¨¡æ¿ã€‚</li><li><strong>é»„é‡‘ç”¨ä¾‹ + é¢„æœŸè¾“å‡º</strong>ï¼š<code>test/type-checker/golden/*.aster</code> ä¸ <code>expected/*.json</code>/<code>.errors.json</code> å›ºå®šç±»å‹æ¨æ–­ä¸è¯Šæ–­ï¼Œé«˜ä¿¡å™ªæ¡ˆä¾‹è¦†ç›–ç±»å‹ã€æ•ˆæœã€PIIã€èƒ½åŠ›ä¸å·¥ä½œæµè¡¥å¿ã€‚</li><li><strong>AST Diff &amp; Cross-Validate</strong>ï¼š<code>tools/ast_diff.ts</code> å½’ä¸€åŒ– JSON å¹¶è¾“å‡ºå·®å¼‚ï¼Œ<code>scripts/cross_validate.sh</code> æ‰§è¡Œä¸¤ç«¯ç±»å‹æ£€æŸ¥å¹¶é©±åŠ¨ diffï¼Œå‡†å¤‡æ¥å…¥ Phase 4 éªŒè¯æµæ°´çº¿ã€‚</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç”Ÿæˆ/æ›´æ–°é”™è¯¯ç å¸¸é‡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --loader</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ts-node/esm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scripts/generate_error_codes.ts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœ¨ TypeScript è¯Šæ–­ä¸­æ ¼å¼åŒ–æ¶ˆæ¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ErrorCode,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> formatErrorMessage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> }</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../src/error_codes&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">const</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> msg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> formatErrorMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ErrorCode.TYPE_MISMATCH,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  expected:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Int&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  actual:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;String&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><hr><h2 id="ç›‘æ§ä¸æˆåŠŸæ ‡å‡†" tabindex="-1">ç›‘æ§ä¸æˆåŠŸæ ‡å‡† <a class="header-anchor" href="#ç›‘æ§ä¸æˆåŠŸæ ‡å‡†" aria-label="Permalink to â€œç›‘æ§ä¸æˆåŠŸæ ‡å‡†â€">â€‹</a></h2><table tabindex="0"><thead><tr><th>æˆåŠŸæ ‡å‡†</th><th>éªŒè¯æ–¹æ³•</th><th>è´£ä»» artefact</th></tr></thead><tbody><tr><td>é”™è¯¯ç æ˜ å°„ 100% è¦†ç›–</td><td>è¿è¡Œç”Ÿæˆè„šæœ¬åå¯¹æ¯” <code>shared/error_codes.json</code> ä¸ <code>src/error_codes.ts</code>/<code>ErrorCode.java</code> çš„æšä¸¾æ•°é‡ï¼›ä»»ä½• diff éœ€åœ¨ <code>operations-log</code> è®°å½•ã€‚</td><td><code>shared/error_codes.json</code>ã€<code>scripts/generate_error_codes.ts</code></td></tr><tr><td>é»„é‡‘ç”¨ä¾‹åˆ†ç±»å®Œå¤‡</td><td>ç»Ÿè®¡ <code>test/type-checker/golden/*.aster</code> å¹¶æ ¸å¯¹ <code>scenarios/**/README.md</code> è¡¨æ ¼ï¼›ç¡®ä¿æ¯ä¸ªç±»åˆ«è‡³å°‘ 2 ä¸ªå¹¶åœ¨ <code>expected/</code> ä¸­å­˜åœ¨ <code>&lt;case&gt;.json</code>/<code>.errors.json</code>ã€‚</td><td><code>test/type-checker/golden</code>ã€<code>test/type-checker/expected</code></td></tr><tr><td>è·¨è¯­è¨€å·®å¼‚ä¸ºé›¶</td><td>è®¾ç½® <code>JAVA_TYPECHECK_CMD</code>/<code>TS_TYPECHECK_CMD</code> åè¿è¡Œ <code>scripts/cross_validate.sh</code>ï¼Œç¡®è®¤ <code>tools/ast_diff.ts</code> æœªè¾“å‡ºå·®å¼‚ä¸”è„šæœ¬é€€å‡ºç ä¸º 0ã€‚</td><td><code>tools/ast_diff.ts</code>ã€<code>scripts/cross_validate.sh</code></td></tr><tr><td>åœºæ™¯æ–‡æ¡£å¯ä¾›å¤ç”¨</td><td>å®¡æŸ¥ <code>test/type-checker/README.md</code> ä»¥åŠå››ä¸ªåœºæ™¯ç›®å½•ï¼Œç¡®ä¿å‡è®°å½•è§¦å‘æ¡ä»¶ã€æœŸæœ›è¯Šæ–­ä¸æ‰©å±•æŒ‡å—ï¼›ç¼ºå¤±è¦ç´ è§†ä¸ºæœªè¾¾æ ‡ã€‚</td><td><code>test/type-checker/README.md</code>ã€<code>test/type-checker/scenarios/**/README.md</code></td></tr></tbody></table><hr><h2 id="æµ‹è¯•è¦†ç›–ä¸éªŒè¯ç»“æœ" tabindex="-1">æµ‹è¯•è¦†ç›–ä¸éªŒè¯ç»“æœ <a class="header-anchor" href="#æµ‹è¯•è¦†ç›–ä¸éªŒè¯ç»“æœ" aria-label="Permalink to â€œæµ‹è¯•è¦†ç›–ä¸éªŒè¯ç»“æœâ€">â€‹</a></h2><ul><li><strong>è¦†ç›–èŒƒå›´</strong>ï¼š16 ä¸ªé»„é‡‘ç”¨ä¾‹ + 32 ä¸ªé¢„æœŸè¾“å‡ºï¼Œæ¶µç›–ç±»å‹æ¨æ–­ç¨³å®šæ€§ã€æ•ˆæœå£°æ˜ã€Await çºªå¾‹ã€PII HTTP è¿è§„ã€Secrets èƒ½åŠ›ç¼ºå¤±ä»¥åŠ 4 ä¸ªå·¥ä½œæµè¡¥å¿åœºæ™¯ã€‚</li><li><strong>éªŒè¯æ•°æ®</strong>ï¼š<code>expected/*.json</code> è®°å½•å‡½æ•°ç­¾åã€æ•ˆæœ/èƒ½åŠ›æ•°ç»„ï¼›<code>.errors.json</code> å›ºå®š <code>code</code>ã€<code>message</code>ã€<code>span</code>ï¼Œä¸º cross_validate ä¸ CI diff æä¾›åŸºçº¿ã€‚</li><li><strong>æ‰§è¡ŒçŠ¶æ€</strong>ï¼š<code>scripts/cross_validate.sh</code> å·²å¯æœ¬åœ°è¿è¡Œï¼Œä½†å°šæ—  recorded runï¼›éœ€è¦åœ¨ CI ä¸­å®šæœŸæ‹‰èµ·å¹¶æŠŠ diff ç»“æœå›å†™åˆ° <code>docs/workstreams/P4-0/operations-log.md</code>ã€‚</li></ul><hr><h2 id="éƒ¨ç½²å‡†å¤‡æ¸…å•" tabindex="-1">éƒ¨ç½²å‡†å¤‡æ¸…å• <a class="header-anchor" href="#éƒ¨ç½²å‡†å¤‡æ¸…å•" aria-label="Permalink to â€œéƒ¨ç½²å‡†å¤‡æ¸…å•â€">â€‹</a></h2><ol><li><strong>å·¥å…·é“¾å‡†å¤‡</strong>ï¼šå®‰è£… Node.js 18+ã€<code>ts-node/esm</code>ã€<code>rg</code>/<code>sed</code>ï¼Œå¹¶ç¡®ä¿ <code>JAVA_TYPECHECK_CMD</code>ã€<code>TS_TYPECHECK_CMD</code> æŒ‡å‘ Phase 3 äº§å‡ºçš„ Java/TS ç±»å‹æ£€æŸ¥å¯æ‰§è¡Œä½“ã€‚</li><li><strong>ä¾èµ– Phase 3 èƒ½åŠ›</strong>ï¼šå¤ç”¨ Phase 3 å·²äº¤ä»˜çš„ç±»å‹/æ•ˆæœæ£€æŸ¥å®ç°ã€LSP PII è¯Šæ–­æ¨¡å—ä¸ capability packsï¼ˆHTTP/SQL/Vaultï¼‰ï¼Œé¿å…é‡å¤å»ºè®¾ã€‚</li><li><strong>è„šæœ¬é›†æˆ</strong>ï¼šåœ¨ CI ä¸­ä¸²è” <code>scripts/generate_error_codes.ts</code>ã€<code>scripts/cross_validate.sh</code>ã€<code>tools/ast_diff.ts</code>ï¼Œå°†å¤±è´¥è§†ä¸ºé˜»æ–­ã€‚</li><li><strong>æ–‡æ¡£ç­¾å®¡</strong>: å¯¹ <code>test/type-checker/README.md</code> ä¸å„åœºæ™¯ README è¿›è¡Œ peer reviewï¼Œå¹¶å°†å®¡æ‰¹ç»“æœè®°å½•åœ¨ <code>docs/workstreams/P4-0/operations-log.md</code>ã€‚</li><li><strong>æ•°æ®æ›´æ–°æµç¨‹</strong>ï¼šç¡®ç«‹æ–°å¢é»„é‡‘ç”¨ä¾‹ â†’ æ›´æ–° expected â†’ è¿è¡Œ cross_validate â†’ åœ¨ operations log ç•™ç—•çš„æµç¨‹ï¼Œé˜²æ­¢æ— åŸºçº¿çš„æäº¤è¿›å…¥ä¸»å¹²ã€‚</li></ol>`,23)])])}const g=s(r,[["render",o]]);export{k as __pageData,g as default};
