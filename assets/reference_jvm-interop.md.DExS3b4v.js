import{_ as o,c as t,o as i,aj as a}from"./chunks/framework.Bz2R-749.js";const m=JSON.parse('{"title":"JVM Interop (MVP)","description":"","frontmatter":{},"headers":[],"relativePath":"reference/jvm-interop.md","filePath":"reference/jvm-interop.md"}'),c={name:"reference/jvm-interop.md"};function d(l,e,r,n,s,p){return i(),t("div",null,[...e[0]||(e[0]=[a('<h1 id="jvm-interop-mvp" tabindex="-1">JVM Interop (MVP) <a class="header-anchor" href="#jvm-interop-mvp" aria-label="Permalink to “JVM Interop (MVP)”">​</a></h1><p>This note outlines a minimal, pragmatic interop surface between Aster and the JVM. The near-term goal is to make common string and collection operations map to idiomatic Java while keeping Aster’s CNL readable and portable.</p><h2 id="naming-and-calls" tabindex="-1">Naming and Calls <a class="header-anchor" href="#naming-and-calls" aria-label="Permalink to “Naming and Calls”">​</a></h2><ul><li>Aster calls are plain names, e.g., <code>Text.concat(a, b)</code> or <code>List.length(xs)</code>.</li><li>The JVM emitter recognizes certain names and lowers them to Java idioms: <ul><li><code>Text.concat(a, b)</code> → <code>a + b</code></li><li><code>Text.contains(h, n)</code> → <code>h.contains(n)</code></li><li><code>Text.equals(a, b)</code> → <code>Objects.equals(a, b)</code></li><li><code>Text.replace(h, t, r)</code> → <code>h.replace(t, r)</code></li><li><code>Text.split(h, sep)</code> → <code>Arrays.asList(h.split(sep))</code></li><li><code>Text.indexOf(h, n)</code> → <code>h.indexOf(n)</code></li><li><code>Text.startsWith(h, p)</code> → <code>h.startsWith(p)</code></li><li><code>Text.endsWith(h, s)</code> → <code>h.endsWith(s)</code></li><li><code>Text.toUpper(h)</code> → <code>h.toUpperCase()</code>; <code>Text.toLower(h)</code> → <code>h.toLowerCase()</code></li><li><code>Text.length(h)</code> → <code>h.length()</code></li><li><code>List.length(xs)</code> → <code>xs.size()</code>; <code>List.get(xs, i)</code> → <code>xs.get(i)</code>; <code>List.isEmpty(xs)</code> → <code>xs.isEmpty()</code>; <code>List.head(xs)</code> → <code>xs.isEmpty()? null : xs.get(0)</code></li><li><code>Map.get(m, k)</code> → <code>m.get(k)</code></li></ul></li><li>Unrecognized calls are emitted as regular Java calls on the rendered name; use imports/module names to fully qualify generated functions (e.g., <code>app.fn.id(...)</code>).</li></ul><h2 id="types" tabindex="-1">Types <a class="header-anchor" href="#types" aria-label="Permalink to “Types”">​</a></h2><ul><li><code>Text</code> → <code>String</code></li><li><code>Int</code> → <code>int</code>, <code>Bool</code> → <code>boolean</code></li><li><code>Maybe&lt;T&gt;</code> → <code>T</code> (nullable)</li><li><code>Result&lt;Ok, Err&gt;</code> → <code>aster.runtime.Result&lt;Ok, Err&gt;</code> (bridge types live in <code>aster-runtime</code>)</li><li><code>List&lt;T&gt;</code> → <code>java.util.List&lt;T&gt;</code>; <code>Map&lt;K,V&gt;</code> → <code>java.util.Map&lt;K,V&gt;</code></li></ul><h2 id="exceptions-preview" tabindex="-1">Exceptions (Preview) <a class="header-anchor" href="#exceptions-preview" aria-label="Permalink to “Exceptions (Preview)”">​</a></h2><ul><li>Prioritize <code>Result&lt;Ok, Err&gt;</code> for flow-control over exceptions in CNL.</li><li>Mapping Java exceptions to <code>Result.Err</code> will be added in a future pass, with conveniences to catch and wrap.</li></ul><h2 id="collections-bridge-preview" tabindex="-1">Collections Bridge (Preview) <a class="header-anchor" href="#collections-bridge-preview" aria-label="Permalink to “Collections Bridge (Preview)”">​</a></h2><ul><li>Future work: <code>List.map</code>, <code>filter</code>, <code>fold</code> via Java streams or loops. For now, examples compile to Core IR; the JVM emitter only recognizes the small set above.</li></ul><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to “Configuration”">​</a></h2><ul><li>Interop mappings live in the emitter (<code>src/jvm/emitter.ts</code>). As the stdlib evolves, add safe, common shims that preserve semantics.</li></ul><h2 id="roadmap" tabindex="-1">Roadmap <a class="header-anchor" href="#roadmap" aria-label="Permalink to “Roadmap”">​</a></h2><ul><li>Add safe wrappers for <code>Result</code> from exceptions (try/catch to <code>Err</code>).</li><li>Extend <code>Text</code> and <code>List</code>/<code>Map</code> coverage.</li><li>Document module-to-package interop patterns for calling into existing Java libs.</li></ul>',14)])])}const u=o(c,[["render",d]]);export{m as __pageData,u as default};
