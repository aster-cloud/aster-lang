import{_ as i,c as l,o as a,aj as o}from"./chunks/framework.Bz2R-749.js";const p=JSON.parse('{"title":"Commands Reference","description":"","frontmatter":{},"headers":[],"relativePath":"guide/commands.md","filePath":"guide/commands.md"}'),c={name:"guide/commands.md"};function d(r,e,t,n,s,u){return a(),l("div",null,[...e[0]||(e[0]=[o('<h1 id="commands-reference" tabindex="-1">Commands Reference <a class="header-anchor" href="#commands-reference" aria-label="Permalink to “Commands Reference”">​</a></h1><p>This page lists common npm scripts and the unified <code>aster</code> CLI subcommands.</p><h2 id="unified-cli-aster" tabindex="-1">Unified CLI (<code>aster</code>) <a class="header-anchor" href="#unified-cli-aster" aria-label="Permalink to “Unified CLI (aster)”">​</a></h2><ul><li><code>aster parse &lt;file.aster&gt; [--watch]</code><ul><li>Parse CNL to AST (JSON). <code>--watch</code> re-parses on change.</li></ul></li><li><code>aster core &lt;file.aster&gt; [--watch]</code><ul><li>Lower to Core IR (JSON). <code>--watch</code> re-lowers on change.</li></ul></li><li><code>aster jvm &lt;file.aster&gt; [--out DIR] [--watch]</code><ul><li>Emit Java sources into <code>DIR</code> (default <code>build/jvm-src</code>).</li></ul></li><li><code>aster class &lt;file.aster&gt; [--out DIR] [--watch]</code><ul><li>Emit JVM classfiles (ASM) into <code>DIR</code> (default <code>build/jvm-classes</code>).</li></ul></li><li><code>aster jar [&lt;file.aster&gt;] [--out FILE]</code><ul><li>Create a jar from <code>build/jvm-classes</code>; if a CNL file is provided, emits classes first.</li></ul></li><li><code>aster truffle &lt;file.(cnl|json)&gt; [-- args...]</code><ul><li>Run Core IR on the Truffle interpreter. Auto-lowers <code>.aster</code> to JSON.</li><li>Extra args after <code>--</code> bind to function parameters as strings.</li></ul></li></ul><h2 id="build-typecheck" tabindex="-1">Build &amp; Typecheck <a class="header-anchor" href="#build-typecheck" aria-label="Permalink to “Build &amp; Typecheck”">​</a></h2><ul><li><code>npm run build</code> — TypeScript build + PEG generation.</li><li><code>npm run dev</code> — Watch mode for TypeScript.</li><li><code>npm run typecheck</code> — TS typechecking (<code>--noEmit</code>).</li></ul><h2 id="tests-benchmarks" tabindex="-1">Tests &amp; Benchmarks <a class="header-anchor" href="#tests-benchmarks" aria-label="Permalink to “Tests &amp; Benchmarks”">​</a></h2><ul><li><code>npm test</code> — Goldens + property tests.</li><li><code>npm run test:golden</code> — Golden tests only.</li><li><code>npm run test:property</code> — Property tests.</li><li><code>npm run test:fuzz</code> — Fuzz tests.</li><li><code>npm run bench</code> — Benchmarks.</li></ul><h2 id="capabilities-manifest" tabindex="-1">Capabilities Manifest <a class="header-anchor" href="#capabilities-manifest" aria-label="Permalink to “Capabilities Manifest”">​</a></h2><ul><li>Set <code>ASTER_CAPS=/path/to/capabilities.json</code> to enable capability checks during typecheck and in the LSP.</li><li>Manifest format (JSON): <ul><li><code>allow</code>: <code>{ io: [&quot;module.*&quot;, &quot;module.func&quot;], cpu: [&quot;*&quot;] }</code></li><li>Optional <code>deny</code>: <code>{ io: [&quot;module.bad*&quot;], cpu: [] }</code> (deny takes precedence over allow)</li></ul></li><li>Supported patterns: <code>*</code>, <code>module</code>, <code>module.*</code>, <code>module.func</code>, and suffix wildcard <code>module.func*</code>.</li></ul><h2 id="lint-format" tabindex="-1">Lint &amp; Format <a class="header-anchor" href="#lint-format" aria-label="Permalink to “Lint &amp; Format”">​</a></h2><ul><li><code>npm run lint</code> — ESLint.</li><li><code>npm run lint:fix</code> — ESLint with fixes.</li><li><code>npm run format</code> — Prettier write.</li><li><code>npm run format:check</code> — Prettier check.</li></ul><h2 id="docs" tabindex="-1">Docs <a class="header-anchor" href="#docs" aria-label="Permalink to “Docs”">​</a></h2><ul><li><code>npm run docs:dev</code> — VitePress dev server.</li><li><code>npm run docs:build</code> — Build docs site.</li><li><code>npm run docs:preview</code> — Preview built docs.</li><li><code>npm run docs:api</code> — Generate API docs via TypeDoc.</li><li><code>npm run docs:all</code> — API docs + site build.</li></ul><h2 id="jvm-asm-emit-verify" tabindex="-1">JVM/ASM Emit &amp; Verify <a class="header-anchor" href="#jvm-asm-emit-verify" aria-label="Permalink to “JVM/ASM Emit &amp; Verify”">​</a></h2><ul><li><code>npm run emit:class</code> — Emit classfiles (reads <code>build/last-core.json</code> or stdin internally).</li><li><code>npm run javac:jvm</code> — Compile emitted Java sources into classfiles.</li><li><code>npm run jar:jvm</code> — Jar emitted classes to <code>build/aster-out/aster.jar</code>.</li><li><code>npm run verify:asm</code> — Build, emit classfiles for several examples, and run <code>javap -v</code> across them.</li></ul><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to “Examples”">​</a></h2><ul><li><code>npm run login:run</code> — Build/login demo on JVM.</li><li><code>npm run math:run</code> — Math demo on JVM.</li><li><code>npm run text:run</code> — Text interop demo (concat/startsWith/indexOf).</li><li><code>npm run list:run</code> — List interop demo (length/get/isEmpty).</li><li><code>npm run map:run</code> — Map interop demo (get).</li></ul><h2 id="truffle" tabindex="-1">Truffle <a class="header-anchor" href="#truffle" aria-label="Permalink to “Truffle”">​</a></h2><ul><li><code>npm run truffle:run</code> — Run Truffle demo runner.</li><li><code>npm run truffle:run:core</code> — Lower <code>greet.aster</code> and run on Truffle.</li><li><code>npm run truffle:run:ifparam</code> — Lower <code>if_param.aster</code> and run on Truffle with a flag.</li></ul><h2 id="misc" tabindex="-1">Misc <a class="header-anchor" href="#misc" aria-label="Permalink to “Misc”">​</a></h2><ul><li><code>npm run repl</code> — Experimental REPL.</li><li><code>npm run lsp</code> — Start the LSP server (stdio).</li><li><code>npm run new -- &lt;dir&gt;</code> — Scaffold a new Aster project in <code>&lt;dir&gt;</code>.</li></ul>',22)])])}const f=i(c,[["render",d]]);export{p as __pageData,f as default};
