import{_ as a,c as t,o as r,aj as n}from"./chunks/framework.Bz2R-749.js";const u=JSON.parse('{"title":"Truffle Interpreter (Spike)","description":"","frontmatter":{},"headers":[],"relativePath":"reference/truffle.md","filePath":"reference/truffle.md"}'),s={name:"reference/truffle.md"};function i(l,e,o,d,p,c){return r(),t("div",null,[...e[0]||(e[0]=[n(`<h1 id="truffle-interpreter-spike" tabindex="-1">Truffle Interpreter (Spike) <a class="header-anchor" href="#truffle-interpreter-spike" aria-label="Permalink to “Truffle Interpreter (Spike)”">​</a></h1><p>This module (<code>truffle/</code>) hosts an experimental Truffle-based interpreter for a small subset of Aster&#39;s Core IR.</p><h2 id="status" tabindex="-1">Status <a class="header-anchor" href="#status" aria-label="Permalink to “Status”">​</a></h2><ul><li>Minimal nodes: <code>LiteralNode</code>, <code>ReturnNode</code>, <code>IfNode</code>, <code>LetNode</code>, <code>AsterRootNode</code>.</li><li>Demo runner: <code>aster.truffle.Runner</code> shows a tiny if/return program and prints a result.</li><li>Next: Build nodes from Core IR JSON and execute simple functions end-to-end.</li></ul><h2 id="running-the-demo" tabindex="-1">Running the Demo <a class="header-anchor" href="#running-the-demo" aria-label="Permalink to “Running the Demo”">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>./gradlew :truffle:run</span></span></code></pre></div><h2 id="roadmap" tabindex="-1">Roadmap <a class="header-anchor" href="#roadmap" aria-label="Permalink to “Roadmap”">​</a></h2><ul><li>Add a JSON loader: parse Core IR JSON (same shape as ASM emitter) and construct Truffle nodes.</li><li>Implement basic expressions: Name lookup, Call (host calls for simple math/text), Return, If.</li><li>Add simple environment and frame slots for let-bindings; add counters for profiling.</li><li>Integrate with the main toolchain: <code>aster core &lt;file&gt;</code> → JSON → Truffle run.</li></ul><h2 id="nested-pattern-smoke-core-json" tabindex="-1">Nested Pattern Smoke (Core JSON) <a class="header-anchor" href="#nested-pattern-smoke-core-json" aria-label="Permalink to “Nested Pattern Smoke (Core JSON)”">​</a></h2><p>Run the nested pattern lambda fixtures through Truffle:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span># Outer(Inner(x)) → prints 42</span></span>
<span class="line"><span>npm run truffle:run:nested</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Outer(Mid(Inner(x))) → prints 7</span></span>
<span class="line"><span>npm run truffle:run:nested:deep</span></span></code></pre></div>`,11)])])}const h=a(s,[["render",i]]);export{u as __pageData,h as default};
