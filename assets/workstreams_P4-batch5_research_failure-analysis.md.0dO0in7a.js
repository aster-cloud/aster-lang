import{_ as d,c as e,o as a,aj as o}from"./chunks/framework.Bz2R-749.js";const m=JSON.parse('{"title":"失败样例分析报告","description":"","frontmatter":{},"headers":[],"relativePath":"workstreams/P4-batch5/research/failure-analysis.md","filePath":"workstreams/P4-batch5/research/failure-analysis.md"}'),r={name:"workstreams/P4-batch5/research/failure-analysis.md"};function c(i,t,s,l,n,h){return a(),e("div",null,[...t[0]||(t[0]=[o('<h1 id="失败样例分析报告" tabindex="-1">失败样例分析报告 <a class="header-anchor" href="#失败样例分析报告" aria-label="Permalink to “失败样例分析报告”">​</a></h1><ul><li>日期：2025-10-22 00:32 NZST</li><li>执行者：Codex</li><li>数据来源：<code>./.claude/scripts/test-all-examples.sh</code> 解析日志（已导出 <code>/tmp/failures.txt</code>）</li><li>当前通过率：50 / 131（38.2%）</li></ul><h2 id="错误模式统计-按频次排序" tabindex="-1">错误模式统计（按频次排序） <a class="header-anchor" href="#错误模式统计-按频次排序" aria-label="Permalink to “错误模式统计（按频次排序）”">​</a></h2><table tabindex="0"><thead><tr><th>错误模式</th><th>文件数</th><th>代表样例</th><th>说明</th></tr></thead><tbody><tr><td><code>mismatched input &#39;,&#39; expecting {&#39;.&#39;, &#39;?&#39;, &#39;and&#39;}</code></td><td>10</td><td><code>annotations_range.aster</code></td><td>结构/参数列表不接受逗号分隔，仍强制使用 and</td></tr><tr><td><code>mismatched input &#39;:&#39; expecting &#39;[&#39;</code></td><td>9</td><td><code>eff_caps_parse_bare.aster</code></td><td><code>It performs io:</code> 冒号语法缺失，仅支持 <code>It performs io [..]</code></td></tr><tr><td><code>extraneous input {operator}</code></td><td>11</td><td><code>test_gte.aster</code></td><td>运算符作为函数调用（<code>&gt;=(a, b)</code>、<code>+(x, y)</code> 等）未正确解析</td></tr><tr><td><code>mismatched input &#39;@&#39; expecting {&#39;(&#39;, TYPE_IDENT}</code></td><td>3</td><td><code>pii_type_basic.aster</code></td><td>顶层/返回类型注解语法缺失</td></tr><tr><td><code>mismatched input &#39;of&#39; expecting {&#39;,&#39;, &#39;produce&#39;}</code></td><td>3</td><td><code>stdlib_collections.aster</code></td><td>泛型 <code>List of Int</code> / <code>Result of</code> 语法缺失</td></tr><tr><td>其它零散错误</td><td>11</td><td><code>annotations_mixed.aster</code> 等</td><td>包含注解参数、Lambda return 缺少句点、枚举匹配等细项</td></tr></tbody></table><blockquote><p>注：同一文件可能触发多个错误模式，合计大于 81。</p></blockquote><h2 id="高频语法缺失-top-5" tabindex="-1">高频语法缺失 Top 5 <a class="header-anchor" href="#高频语法缺失-top-5" aria-label="Permalink to “高频语法缺失 Top 5”">​</a></h2><table tabindex="0"><thead><tr><th>排名</th><th>问题描述</th><th>影响文件数</th><th>预期提升率</th><th>修复复杂度</th><th>优先级</th></tr></thead><tbody><tr><td>1</td><td>运算符函数调用：<code>&gt;=(a, b)</code> / <code>+(x, y)</code> 等前缀写法无法被识别</td><td>11</td><td>≈ +8.4%（上限，含与#2重叠）</td><td>中</td><td>高</td></tr><tr><td>2</td><td>数据结构与调用实参仍需使用 <code>and</code>，逗号语法未落地</td><td>10</td><td>≈ +7.6%</td><td>低</td><td>高</td></tr><tr><td>3</td><td>能力标注只支持 <code>It performs io [Caps]</code>，缺少冒号写法</td><td>9</td><td>≈ +6.9%</td><td>低</td><td>高</td></tr><tr><td>4</td><td><code>@pii(L2, email) Text</code> 等类型级注解语法缺失</td><td>3</td><td>≈ +2.3%</td><td>中</td><td>中</td></tr><tr><td>5</td><td>泛型 <code>List of Int</code> / <code>Result of Ok and Err</code> 未解析</td><td>3</td><td>≈ +2.3%</td><td>中</td><td>中</td></tr></tbody></table><h2 id="观察与建议" tabindex="-1">观察与建议 <a class="header-anchor" href="#观察与建议" aria-label="Permalink to “观察与建议”">​</a></h2><ul><li>逗号语法与能力冒号语法均为文档示例中的主流写法，修复成本低且覆盖率高，应立即落地。</li><li>运算符函数调用在多个测试与示例中复现，但当前语法看似已定义，对应实现需进一步排查（可能是 Lexer/AST 拼装约束）。</li><li>类型注解与 <code>Result of</code> 泛型为后续隐私与错误处理语法的前提，建议列为下一梯队处理。</li><li>其它零散问题（枚举匹配、注解参数、Lambda return 句点等）数量较低，可在主问题修复后集中处理。</li></ul>',9)])])}const _=d(r,[["render",c]]);export{m as __pageData,_ as default};
