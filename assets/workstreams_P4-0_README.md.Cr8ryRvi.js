import{_ as d,c as t,o,aj as c}from"./chunks/framework.Bz2R-749.js";const p=JSON.parse('{"title":"Phase 4.0 ç±»å‹/æ•ˆæœéªŒè¯åŸºçº¿ï¼ˆP4-0ï¼‰","description":"","frontmatter":{},"headers":[],"relativePath":"workstreams/P4-0/README.md","filePath":"workstreams/P4-0/README.md"}'),r={name:"workstreams/P4-0/README.md"};function s(a,e,i,l,n,h){return o(),t("div",null,[...e[0]||(e[0]=[c('<h1 id="phase-4-0-ç±»å‹-æ•ˆæœéªŒè¯åŸºçº¿-p4-0" tabindex="-1">Phase 4.0 ç±»å‹/æ•ˆæœéªŒè¯åŸºçº¿ï¼ˆP4-0ï¼‰ <a class="header-anchor" href="#phase-4-0-ç±»å‹-æ•ˆæœéªŒè¯åŸºçº¿-p4-0" aria-label="Permalink to â€œPhase 4.0 ç±»å‹/æ•ˆæœéªŒè¯åŸºçº¿ï¼ˆP4-0ï¼‰â€">â€‹</a></h1><p><strong>æ›´æ–°æ—¥æœŸ</strong>: 2025-11-13 19:39 NZSTï¼ˆCodexï¼‰<br><strong>é˜¶æ®µçŠ¶æ€</strong>: ğŸŸ¡ è¿›è¡Œä¸­</p><hr><h2 id="é˜¶æ®µæ¦‚è§ˆä¸å®ŒæˆçŠ¶æ€" tabindex="-1">é˜¶æ®µæ¦‚è§ˆä¸å®ŒæˆçŠ¶æ€ <a class="header-anchor" href="#é˜¶æ®µæ¦‚è§ˆä¸å®ŒæˆçŠ¶æ€" aria-label="Permalink to â€œé˜¶æ®µæ¦‚è§ˆä¸å®ŒæˆçŠ¶æ€â€">â€‹</a></h2><ul><li>P4-0 èšç„¦äºä¸º Phase 4 AI éªŒè¯å™¨å¤¯å®ç±»å‹ã€æ•ˆæœä¸ PII è¯Šæ–­åŸºçº¿ï¼Œä¾æ‰˜ç»Ÿä¸€é”™è¯¯ç ã€é»„é‡‘ç”¨ä¾‹ä»¥åŠè·¨è¯­è¨€å·¥å…·é“¾æ¥é”å®š Java ä¸ TypeScript çš„ä¸€è‡´æ€§ã€‚</li><li><code>docs/workstreams/P4-0/operations-log.md</code> ç›®å‰è®°å½• 51 æ¡æ“ä½œï¼ˆ2025-10-22 11:53:39 NZST è‡³ 12:27:52 NZSTï¼‰ï¼Œè¦†ç›–ç±»å‹/æ•ˆæœè¯Šæ–­è°ƒç ”ã€é”™è¯¯ç ç”Ÿæˆè„šæœ¬ä»¥åŠé»„é‡‘ç”¨ä¾‹è½åœ°ï¼Œè¯´æ˜é˜¶æ®µä»å¤„äºé«˜é¢‘è¿­ä»£æœŸã€‚</li><li>æ ¸å¿ƒäº¤ä»˜ç‰©å®Œæˆåº¦å¦‚ä¸‹ï¼š</li></ul><table tabindex="0"><thead><tr><th>äº¤ä»˜ç‰©</th><th>å½“å‰çŠ¶æ€</th><th>æ‘˜è¦</th><th>å…³é”®æ–‡ä»¶</th></tr></thead><tbody><tr><td>å…±äº«é”™è¯¯ç æ³¨å†Œè¡¨ä¸ç”Ÿæˆå™¨</td><td>âœ… å·²å®Œæˆ</td><td><code>shared/error_codes.json</code> ä½œä¸ºå•ä¸€äº‹å®æºï¼Œå€Ÿç”± <code>scripts/generate_error_codes.ts</code> åŒæ­¥åˆ° <code>src/error_codes.ts</code> ä¸ <code>aster-core/.../ErrorCode.java</code>ï¼Œä¿è¯è¯Šæ–­ç¼–å·ä¸æ¶ˆæ¯æ¨¡æ¿ä¸€è‡´ã€‚</td><td><code>shared/error_codes.json</code>ã€<code>scripts/generate_error_codes.ts</code>ã€<code>src/error_codes.ts</code></td></tr><tr><td>ç±»å‹æ£€æŸ¥é»„é‡‘ç”¨ä¾‹é›†</td><td>ğŸŸ¡ è¿›è¡Œä¸­</td><td><code>test/type-checker/golden/*.aster</code> å·²æ¶µç›– 16 ä¸ªåœºæ™¯ï¼ˆç±»å‹ã€æ•ˆæœã€PIIã€èƒ½åŠ›ã€å·¥ä½œæµï¼‰ï¼Œä½†ç»„åˆç±»åœºæ™¯ä»å¾…æ‰©å±•ã€‚</td><td><code>test/type-checker/golden/</code></td></tr><tr><td>ç±»å‹æ£€æŸ¥é¢„æœŸè¾“å‡ºé›†</td><td>ğŸŸ¡ è¿›è¡Œä¸­</td><td><code>test/type-checker/expected/*.json</code> ä¸ <code>.errors.json</code> å·²ä¸º 16 ä¸ªç”¨ä¾‹ç”Ÿæˆ 32 ä¸ªåŸºçº¿æ–‡ä»¶ï¼Œéœ€ä¸²è”åˆ° CI éªŒè¯ã€‚</td><td><code>test/type-checker/expected/</code></td></tr><tr><td>åœºæ™¯æ–‡æ¡£ä¸ç»´æŠ¤çº¦å®š</td><td>âœ… å·²å®Œæˆ</td><td><code>test/type-checker/README.md</code> ä¸ <code>scenarios/*/README.md</code> æ€»ç»“è§¦å‘æ¡ä»¶ã€é¢„æœŸé”™è¯¯ç ä¸æ‰©å±•è§„åˆ™ï¼Œå¯ç›´æ¥å¤ç”¨è‡³ README/indexã€‚</td><td><code>test/type-checker/README.md</code>ã€<code>test/type-checker/scenarios/**/README.md</code></td></tr><tr><td>AST Diff ä¸ cross_validate å·¥å…·é“¾</td><td>ğŸŸ¡ è¿›è¡Œä¸­</td><td><code>tools/ast_diff.ts</code> å·²èƒ½æ¯”è¾ƒ AST JSONï¼Œ<code>scripts/cross_validate.sh</code> ç¼–æ’ Java/TS åŒç«¯æ‰§è¡Œä½†å°šæœªæ¥å…¥ CIã€‚</td><td><code>tools/ast_diff.ts</code>ã€<code>scripts/cross_validate.sh</code></td></tr><tr><td>Phase 4.0 æ‰§è¡ŒæŠ¥å‘Š</td><td>âœ… å·²å®Œæˆ</td><td><code>.claude/context-p4-0-analysis.json</code> æ±‡æ€»æ“ä½œè®°å½•ã€ç›®æ ‡ä¸æˆåŠŸæ ‡å‡†ï¼Œæ˜¯æœ¬ README ä¸ index çš„ç›´æ¥æ•°æ®æ¥æºã€‚</td><td><code>.claude/context-p4-0-analysis.json</code></td></tr></tbody></table><hr><h2 id="æ ¸å¿ƒç›®æ ‡ä¸æˆåŠŸæŒ‡æ ‡" tabindex="-1">æ ¸å¿ƒç›®æ ‡ä¸æˆåŠŸæŒ‡æ ‡ <a class="header-anchor" href="#æ ¸å¿ƒç›®æ ‡ä¸æˆåŠŸæŒ‡æ ‡" aria-label="Permalink to â€œæ ¸å¿ƒç›®æ ‡ä¸æˆåŠŸæŒ‡æ ‡â€">â€‹</a></h2><table tabindex="0"><thead><tr><th>ç›®æ ‡</th><th>æˆåŠŸæ ‡å‡†</th><th>å½“å‰è¿›å±•</th></tr></thead><tbody><tr><td>æ¢³ç†ç±»å‹/æ•ˆæœ/PII è¯Šæ–­è¯­ä¹‰å¹¶ç»Ÿä¸€ç¼–å·</td><td><strong>é”™è¯¯ç æ˜ å°„ 100% è¦†ç›–</strong>ï¼š<code>shared/error_codes.json</code> å†…æ‰€æœ‰ ID å¿…é¡»ä¸ Java/TS è¯Šæ–­å®ç°ä¸€ä¸€å¯¹åº”ï¼Œä¸¥ç¦å­¤ç«‹è¯Šæ–­ã€‚ï¼ˆæ¥æºï¼š<code>.claude/context-p4-0-analysis.json</code> â†’ <code>success_criteria[0]</code>ï¼‰</td><td>é€šè¿‡ <code>scripts/generate_error_codes.ts</code> å®é™…ç”ŸæˆåŒç«¯å¸¸é‡ï¼Œè¾¾åˆ° 100% è¦†ç›–ï¼Œä»éœ€åœ¨ CI ä¸­æ·»åŠ å®ˆæŠ¤ã€‚</td></tr><tr><td>å»ºç«‹é¢å‘ Phase 4 çš„é«˜ä¿¡å™ªé»„é‡‘ç”¨ä¾‹é›†</td><td><strong>é»„é‡‘ç”¨ä¾‹åˆ†ç±»å®Œå¤‡</strong>ï¼šç±»å‹ / æ•ˆæœ / PII / èƒ½åŠ› / å¼‚æ­¥ æ¯ç±»è‡³å°‘ 2 ä¸ªç”¨ä¾‹ï¼Œå¹¶åœ¨ <code>expected/*.json</code> ä¸­é”å®šè¯Šæ–­ã€‚ï¼ˆ<code>success_criteria[1]</code>ï¼‰</td><td>å·²è½åœ° 16 ä¸ª <code>.aster</code> ç”¨ä¾‹ï¼ˆç±»å‹ 6ã€æ•ˆæœ 4ã€PII 1ã€èƒ½åŠ› 1ã€å·¥ä½œæµ 4ï¼‰ï¼Œä½†æ•ˆæœ/PII ä»éœ€è¡¥é½ç»„åˆæ¡ˆä¾‹ã€‚</td></tr><tr><td>ä¿è¯ Java ä¸ TypeScript è¯Šæ–­è¾“å‡ºå®Œå…¨ä¸€è‡´</td><td><strong>è·¨è¯­è¨€å·®å¼‚ä¸ºé›¶</strong>ï¼š<code>scripts/cross_validate.sh</code> è¿è¡Œæ—¶ AST diff/è¯Šæ–­ diff è®¡æ•°å¿…é¡»ä¸º 0ï¼Œè„šæœ¬è¿”å›æˆåŠŸç ã€‚ï¼ˆ<code>success_criteria[2]</code>ï¼‰</td><td>å·¥å…·é“¾å·²å°±ç»ªï¼Œå°šæœªå†™å…¥ CIï¼Œå› æ­¤å°šæ— æ­£å¼ç»“æœï¼Œéœ€è¦åœ¨ä¸‹ä¸€é˜¶æ®µæ¥å…¥ã€‚</td></tr><tr><td>å°†åœºæ™¯çŸ¥è¯†æ–‡æ¡£åŒ–ï¼Œä¾¿äºæ‰©å±•ä¸å®¡æŸ¥</td><td><strong>åœºæ™¯æ–‡æ¡£å¯å¤ç”¨</strong>ï¼š<code>test/type-checker/README.md</code> ä¸ <code>scenarios/*/README.md</code> å‡è¦†ç›–è§¦å‘æ¡ä»¶ã€æœŸæœ›è¯Šæ–­ä¸æ‰©å±•æŒ‡å—ã€‚ï¼ˆ<code>success_criteria[3]</code>ï¼‰</td><td>å››ä¸ªåœºæ™¯ç›®å½•å‡å·²åˆ—å‡ºè¡¨æ ¼åŒ–è¯´æ˜ï¼Œå¯ç›´æ¥å¼•ç”¨åˆ° P4-0 æ–‡æ¡£ã€‚</td></tr></tbody></table><hr><h2 id="é”™è¯¯ç ä½“ç³»ä¸ç”Ÿæˆæµç¨‹" tabindex="-1">é”™è¯¯ç ä½“ç³»ä¸ç”Ÿæˆæµç¨‹ <a class="header-anchor" href="#é”™è¯¯ç ä½“ç³»ä¸ç”Ÿæˆæµç¨‹" aria-label="Permalink to â€œé”™è¯¯ç ä½“ç³»ä¸ç”Ÿæˆæµç¨‹â€">â€‹</a></h2><ol><li><strong>å•ä¸€äº‹å®æº</strong>ï¼š<code>shared/error_codes.json</code> ä»¥è¯Šæ–­åç§°ä¸ºé”®ï¼Œå®šä¹‰ <code>code</code> / <code>category</code> / <code>severity</code> / <code>message</code> / <code>help</code> å­—æ®µï¼Œç°å·²æ”¶å½• E001-E500 èŒƒå›´å†…ç±»å‹ã€æ•ˆæœã€PII ä¸èƒ½åŠ›ç›¸å…³ç¼–å·ã€‚</li><li><strong>ç”Ÿæˆè„šæœ¬</strong>ï¼š<code>scripts/generate_error_codes.ts</code> è¯»å– JSONã€æ’åºå¹¶æ¸²æŸ“ TypeScript ä¸ Java è¾“å‡ºï¼Œåˆ†åˆ«å†™å…¥ <code>src/error_codes.ts</code> ä¸ <code>aster-core/src/main/java/aster/core/typecheck/ErrorCode.java</code>ï¼Œå¹¶åœ¨ç»ˆç«¯è¾“å‡ºç”Ÿæˆè·¯å¾„ã€‚</li><li><strong>ä½¿ç”¨æ–¹å¼</strong>ï¼š <ul><li>æœ¬åœ°è¿è¡Œ <code>node --loader ts-node/esm scripts/generate_error_codes.ts</code>ã€‚</li><li>TypeScript ä¾§é€šè¿‡ <code>ErrorCode</code> æšä¸¾ã€<code>ERROR_METADATA</code> ä¸ <code>formatErrorMessage</code> æ‹¼è£…è¯Šæ–­æ¶ˆæ¯ã€‚</li><li>Java ä¾§ä¾èµ–è‡ªåŠ¨ç”Ÿæˆçš„ <code>ErrorCode</code> enumï¼Œå°† <code>messageTemplate()</code> ä¸ <code>help()</code> åµŒå…¥è¯Šæ–­ã€‚</li></ul></li><li><strong>ç»´æŠ¤çº¦æŸ</strong>ï¼šæ–°å¢è¯Šæ–­æ—¶å¿…é¡»å…ˆæ›´æ–° JSONï¼Œå†è¿è¡Œè„šæœ¬å¹¶æ£€æŸ¥ä¸¤ä¸ªå¹³å°çš„å˜æ›´ï¼Œç¡®ä¿ <code>operations-log</code> å¯è¿½æº¯ã€‚</li></ol><hr><h2 id="é»„é‡‘ç”¨ä¾‹ä¸é¢„æœŸè¾“å‡º" tabindex="-1">é»„é‡‘ç”¨ä¾‹ä¸é¢„æœŸè¾“å‡º <a class="header-anchor" href="#é»„é‡‘ç”¨ä¾‹ä¸é¢„æœŸè¾“å‡º" aria-label="Permalink to â€œé»„é‡‘ç”¨ä¾‹ä¸é¢„æœŸè¾“å‡ºâ€">â€‹</a></h2><ul><li><strong>æ•°æ®ä½ç½®</strong>ï¼š <ul><li><code>test/type-checker/golden/</code>ï¼š16 ä¸ª <code>.aster</code> ç”¨ä¾‹ï¼Œè¦†ç›–åŸºç¡€ç±»å‹ã€æ³›å‹ã€åˆ—è¡¨ã€å·¥ä½œæµè¡¥å¿ã€èƒ½åŠ›å£°æ˜ã€æ•ˆæœç¼ºå¤±ã€PII HTTP è¿è§„ä¸ Await çºªå¾‹ã€‚</li><li><code>test/type-checker/expected/</code>ï¼šä¸ºä¸Šè¿°æ¯ä¸ªç”¨ä¾‹æä¾› <code>&lt;case&gt;.json</code> ä¸ <code>&lt;case&gt;.errors.json</code>ï¼ˆå…± 32 ä¸ªæ–‡ä»¶ï¼‰ï¼Œé”å®šç±»å‹æ¨æ–­å¿«ç…§ä¸è¯Šæ–­ IDã€‚</li></ul></li><li><strong>åœºæ™¯åˆ†ç±»</strong>ï¼ˆæ‘˜è‡ª <code>test/type-checker/scenarios/**/README.md</code>ï¼‰ï¼š <ul><li><code>type_errors</code>ï¼š<code>type_mismatch_assign.aster</code> â†’ <code>E012</code>ã€<code>return_type_mismatch.aster</code> â†’ <code>E003</code>ã€<code>list_literal_mismatch.aster</code> â†’ <code>E020</code> ç­‰ã€‚</li><li><code>effect_violations</code>ï¼š<code>effect_missing_io.aster</code> â†’ <code>E200</code>ã€<code>async_missing_wait.aster</code> â†’ <code>E500</code> ç­‰ã€‚</li><li><code>pii_leaks</code>ï¼š<code>pii_http_violation.aster</code> â†’ <code>E400</code>ã€‚</li><li><code>capability_checks</code>ï¼š<code>capability_missing_decl.aster</code> â†’ <code>E301</code>ã€‚</li></ul></li><li><strong>æ‰©å±•ç­–ç•¥</strong>ï¼šæ–°å¢ç”¨ä¾‹éœ€åŒæ­¥è¡¥é½ expected/ ä¸ scenarios/ æè¿°ï¼Œå¹¶åœ¨ <code>operations-log</code> è®°å½•æ–°å¢åŸå› ï¼Œç¡®ä¿ cross_validate èƒ½å¤Ÿæ¶ˆè´¹æœ€æ–°æ•°æ®ã€‚</li></ul><hr><h2 id="å·¥å…·é“¾-ast-diff-cross-validate" tabindex="-1">å·¥å…·é“¾ï¼ˆAST Diff &amp; Cross-Validateï¼‰ <a class="header-anchor" href="#å·¥å…·é“¾-ast-diff-cross-validate" aria-label="Permalink to â€œå·¥å…·é“¾ï¼ˆAST Diff &amp; Cross-Validateï¼‰â€">â€‹</a></h2><ul><li><code>tools/ast_diff.ts</code>ï¼šä»¥ <code>ts-node</code> è¿è¡Œï¼Œæ¥æ”¶ Java ä¸ TypeScript äº§å‡ºçš„ AST JSONï¼Œå…ˆå½’ä¸€åŒ– key é¡ºåºï¼Œå†è¾“å‡ºå·®å¼‚è·¯å¾„ï¼›è‹¥ diff ä¸ºç©ºåˆ™è¿”å› 0 å¹¶æ‰“å°â€œâœ… AST ä¸€è‡´â€ã€‚</li><li><code>scripts/cross_validate.sh</code>ï¼š <ol><li>ä¾èµ– <code>JAVA_TYPECHECK_CMD</code> ä¸ <code>TS_TYPECHECK_CMD</code> ç¯å¢ƒå˜é‡æŒ‡å‘ä¸¤ä¾§ç±»å‹æ£€æŸ¥å‘½ä»¤ï¼›</li><li>éå† <code>test/type-checker/golden/*.aster</code>ï¼Œå¯¹æ¯ä¸ªç”¨ä¾‹æ‰§è¡ŒåŒç«¯ç±»å‹æ£€æŸ¥å¹¶ç”Ÿæˆä¸´æ—¶ JSONï¼›</li><li>é€šè¿‡ <code>AST_DIFF_CMD</code>ï¼ˆé»˜è®¤ <code>node --loader ts-node/esm tools/ast_diff.ts</code>ï¼‰æ¯”è¾ƒè¾“å‡ºï¼Œä»»ä½• diff å°†å¯¼è‡´æ•´ä½“é€€å‡ºç éé›¶ï¼›</li><li>å½“å‰å°šæœªä¸ CI é›†æˆï¼Œéœ€è¦åœ¨ P4-0 å®Œç»“å‰æŒ‚åˆ°éªŒè¯æµæ°´çº¿ã€‚</li></ol></li></ul><hr><h2 id="é£é™©ä¸åç»­è®¡åˆ’" tabindex="-1">é£é™©ä¸åç»­è®¡åˆ’ <a class="header-anchor" href="#é£é™©ä¸åç»­è®¡åˆ’" aria-label="Permalink to â€œé£é™©ä¸åç»­è®¡åˆ’â€">â€‹</a></h2><table tabindex="0"><thead><tr><th>é£é™©</th><th>è¯´æ˜</th><th>ä¸‹ä¸€æ­¥è¡ŒåŠ¨</th></tr></thead><tbody><tr><td>cross_validate ä»ä¸ºæ‰‹åŠ¨è„šæœ¬</td><td>æ²¡æœ‰ CI å®ˆæŠ¤æ„å‘³ç€ Java/TS åˆ†æ”¯æ¼‚ç§»æ— æ³•è¢«åŠæ—¶æ•è·ã€‚</td><td>å°† <code>scripts/cross_validate.sh</code> åµŒå…¥ Phase 4 éªŒè¯ workflowï¼Œå¹¶åœ¨å¤±è´¥æ—¶æ”¶é›† <code>tools/ast_diff.ts</code> è¾“å‡ºä»¥ä¾¿å®¡æŸ¥ã€‚</td></tr><tr><td>é»„é‡‘ç”¨ä¾‹ç¼ºå°‘ç»„åˆåœºæ™¯</td><td>ç›®å‰ä¸»è¦æ˜¯å•ç‚¹é”™è¯¯ï¼Œå°šæœªè¦†ç›–â€œæ•ˆæœ+PIIâ€â€œèƒ½åŠ›+å·¥ä½œæµâ€ç­‰å¤åˆè¯Šæ–­ã€‚</td><td>æ‰©å±• <code>test/type-checker/golden/</code>ï¼Œå¹¶åœ¨ <code>scenarios/*</code> æ›´æ–°è¡¨æ ¼ï¼Œç¡®ä¿ success criterion #2 è¾¾æˆã€‚</td></tr><tr><td>expected/*.json æœªæ¥å…¥ CI</td><td>é¢„æœŸè¾“å‡ºå¯èƒ½å› ç±»å‹æ£€æŸ¥å™¨æ›´æ”¹è€Œæ¼‚ç§»ï¼Œç¼ºå¤±è‡ªåŠ¨ diffã€‚</td><td>åœ¨ cross_validate å®Œæˆåè¿½åŠ  <code>jq</code>/<code>diff</code> æ­¥éª¤ï¼Œæ¯”å¯¹ <code>expected/*.json</code> ä¸å®æ—¶è¾“å‡ºï¼›å¿…è¦æ—¶ç”Ÿæˆæ–°åŸºçº¿å¹¶å®¡ç­¾ã€‚</td></tr><tr><td>å¤–éƒ¨ä¾èµ–å°šæœªå›ºåŒ–</td><td>ä¾èµ– Node 18+ã€ts-node/esm ä¸ Java/GraalVMï¼Œä½†æ–‡æ¡£å°šæœªå†™å…¥éƒ¨ç½²å‰ç½®ã€‚</td><td>åœ¨éƒ¨ç½² checklist ä¸­åˆ—æ˜ä¾èµ–ç‰ˆæœ¬ï¼Œå¹¶è¡¥å……å®‰è£…è„šæœ¬ï¼Œå‡å°‘å›¢é˜Ÿæ¥å…¥æ‘©æ“¦ã€‚</td></tr></tbody></table>',21)])])}const f=d(r,[["render",s]]);export{p as __pageData,f as default};
